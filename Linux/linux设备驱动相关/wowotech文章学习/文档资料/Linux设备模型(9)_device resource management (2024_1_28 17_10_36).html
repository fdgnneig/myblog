<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns=http://www.w3.org/1999/xhtml data-darkreader-mode=dynamic data-darkreader-scheme=dark style><!--
 Page saved with SingleFile 
 url: http://www.wowotech.net/device_model/device_resource_management.html 
 saved date: Sun Jan 28 2024 17:10:36 GMT+0800 (中国标准时间)
--><meta charset=utf-8><style>:root{--sf-img-0: url("data:image/png;base64,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");--sf-img-10: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJDSURBVHjajJJNSBRhGMd/887MzrQxRSLbFuYhoUhEKsMo8paHUKFLdBDrUIdunvq4RdClOq8Hb0FBSAVCUhFR1CGD/MrIJYqs1kLUXd382N356plZFOrUO/MMz/vO83+e93n+f+1zF+kQBoOQNLBJg0CTj7z/rvWjGbEOIwKp9O7WkhtQc/wMWrlIkP8Kc1lMS8eyFHpkpo5SgWCCVO7Z5JARhuz1Qg29fh87u6/9VWL1/SPc4Qy6n8c0FehiXin6dcCQaylDMhqGz8ydS2hKkmxNkWxowWnuBLHK6G2C8X6UJkBlxUmNqLYyNbzF74QLDrgFgh9LLE0NsPKxjW1Hz2EdPIubsOFdH2HgbwAlC4S19dT13o+3pS+vcSfvUcq9YnbwA6muW9hNpym/FWBxfh0CZkKGkPBZeJFhcWQAu6EN52QGZ/8prEKW+cdXq0039UiLXhUYzdjebOJQQI30UXp6mZn+Dtam32Afu0iyrgUvN0r+ZQbr8HncSpUVJfwRhBWC0hyGV8CxXBL5SWYf9sYBidYLIG2V87/ifVjTWAX6AlxeK2C0X8e58hOr/Qa2XJ3iLMWxB1h72tHs7bgryzHAN2o2gJorTrLxRHVazd0o4TXiyV2Yjs90uzauGvvppmqcLjwmbZ3V7BO2HOrBnbgrQRqWUgTZ5+Snx4WeKfzCCrmb3axODKNH+vvUyWjqyK4DiKQ0eXSpFsgVvLJQWpH+xSpr4otg/HI0TR/t97cxTUS+QxIMRTLi/9ZYJPI/AgwAoc3W7ZrqR2IAAAAASUVORK5CYII=")}</style><style class="darkreader darkreader--user-agent" media=screen>.jfk-bubble.gtx-bubble,.captcheck_answer_label>input+img,span#closed_text>img[src^="https://www.gstatic.com/images/branding/googlelogo"],span[data-href^="https://www.hcaptcha.com/"]>#icon,#bit-notification-bar-iframe,::-webkit-calendar-picker-indicator,img.Wirisformula{filter:invert(100%) hue-rotate(180deg) contrast(90%)!important}[data-darkreader-inline-bgcolor]{background-color:var(--darkreader-inline-bgcolor)!important}[data-darkreader-inline-border-bottom]{border-bottom-color:var(--darkreader-inline-border-bottom)!important}[data-darkreader-inline-border-left]{border-left-color:var(--darkreader-inline-border-left)!important}[data-darkreader-inline-border-right]{border-right-color:var(--darkreader-inline-border-right)!important}[data-darkreader-inline-border-top]{border-top-color:var(--darkreader-inline-border-top)!important}[data-darkreader-inline-color]{color:var(--darkreader-inline-color)!important}:root{--darkreader-neutral-background:#131516;--darkreader-neutral-text:#d8d4cf;--darkreader-selection-background:#004daa;--darkreader-selection-text:#e8e6e3}:root{}html{background-color:#181a1b!important}html{color-scheme:dark!important}html,body{background-color:#181a1b}html,body{border-color:#736b5e;color:#e8e6e3}a{color:#3391ff}::placeholder{color:#b2aba1}input:-webkit-autofill,textarea:-webkit-autofill,select:-webkit-autofill{background-color:#404400!important;color:#e8e6e3!important}::-webkit-scrollbar{background-color:#202324;color:#aba499}::-webkit-scrollbar-thumb{background-color:#454a4d}::-webkit-scrollbar-thumb:hover{background-color:#575e62}::-webkit-scrollbar-thumb:active{background-color:#484e51}::-webkit-scrollbar-corner{background-color:#181a1b}::selection{background-color:#004daa!important;color:#e8e6e3!important}</style>
<title>Linux设备模型(9)_device resource management</title>
<meta name=keywords content="Linux 嵌入式 ARM RTOS Technology 享受 C语言,Linux,设备模型,设备资源管理,devres">
<meta name=description content="1. 前言  蜗蜗建议，每一个Linux驱动工程师，都能瞄一眼本文。  之所以用“瞄”，因此它很简单，几乎不需...">
<meta name=generator content=emlog>
<link rel=EditURI type=application/rsd+xml title=RSD href=http://www.wowotech.net/xmlrpc.php?rsd>
<link rel=wlwmanifest type=application/wlwmanifest+xml href=http://www.wowotech.net/wlwmanifest.xml>
<link rel=alternate type=application/rss+xml title=RSS href=http://www.wowotech.net/rss.php>
<style>body{background:#FFFFFF;color:#323232;text-align:center;font:13px/18px Arial,Helvetica,sans-serif;margin:0px auto 0px;padding:0px}#wrap{background:#FFFFFF;width:960px;text-align:left;margin:0px auto 0px;padding:0px}img{border:none}a:link,a:active,a:visited{color:#886353;text-decoration:none}a:hover{color:#886353;text-decoration:underline}#header h1{color:#1F1F1F;font-size:30px;font-weight:normal;letter-spacing:0px;margin:10px 0px 3px 0px;padding:20px 0px 0px 0px;font-family:Georgia,"Times New Roman",Times,serif;line-height:normal}#header h1 a:link{color:#1F1F1F;text-decoration:none}#header h1 a:active{color:#1F1F1F;text-decoration:none}#header h1 a:visited{color:#1F1F1F;text-decoration:none}#header h1 a:hover{color:#1F1F1F;text-decoration:none}#header h3{color:#525252;font-style:italic;font-size:15px;font-weight:normal;margin:0px 0px 0px 40px;padding:10px 0px 10px 0px}#nav{margin:10px 0px 0px 0px;border:1px solid #eee}#nav .bar{margin:0px;padding:0px;height:30px}#nav .bar .item{height:30px;line-height:30px;display:block;float:left;padding:0 18px;position:relative}#nav a:link{color:#1F1F1F;text-decoration:none}#nav a:active{color:#1F1F1F;text-decoration:none}#nav a:visited{color:#1F1F1F;text-decoration:none}#nav a:hover{color:#1F1F1F;text-decoration:underline}#banner{height:134px}#pagenavi{text-align:center;font-size:14px}#pagenavi a{padding:0px 3px}#pagenavi a:hover{text-decoration:overline}#pagenavi span{font-size:16px;color:#999999}#content{width:960px;margin:0px auto 0px;padding:0px}#content p{padding:0px 0px 15px 0px;margin:0px;line-height:20px}#content h2{color:#1F1F1F;font-size:18px;font-weight:bold;padding:0px 0px 0px 0px;margin:25px 0px 10px 0px}#content h3{color:#444444;font-size:14px;font-weight:bold;margin:15px 0px 0px 0px;padding:8px 0px 8px 0px}#contentleft{float:left;width:678px;margin:0px 0px 0px 0px;padding:0px 20px 20px 20px;border-left:1px solid #eee;border-right:1px solid #eee}blockquote{margin:0px 20px 20px 20px;padding:25px 20px 25px 20px;background:#EFEFEF;border-left:5px solid #696969;border-right:5px solid #696969}#contentleft .date{color:#A97965;font-size:12px}#contentleft .tag{color:#A97965;font-size:12px;margin:0px 0px 0px 0px}#contentleft img{max-width:690px}#sidebar{float:right;width:200px;margin:0px 0px 0px 0px;padding:0px 19px 20px 19px;border-right:1px solid #eee;font:12px/18px Verdana,Arial,Helvetica,sans-serif;overflow:hidden}#sidebar ul{list-style-type:none;margin:0px;padding:0px}#sidebar ul li{background:transparent var(--sf-img-0) 0px 3px no-repeat;margin:0px 0px 0px 0px;padding:0px 0px 0px 18px}#sidebar ul li ul li{background:transparent var(--sf-img-0) 0px 3px no-repeat;margin:0px 0px 0px 0px;padding:0px 0px 0px 18px}#sidebar li{list-style-type:none}#footerbar{margin:40px auto 30px;padding:10px 0px;width:960px;text-align:center;overflow:hidden;border-top:1px solid #eee}#contentleft .nextlog{text-align:center;margin:5px 0;font-size:12px}#contentleft .comment-header{margin:15px 0px 5px 0px}#contentleft .comment-post{clear:both}#contentleft .comment-post p{margin:5px 0px}#contentleft .comment-post .cancel-reply{float:right;font-size:12px;cursor:pointer;padding-right:10%}#contentleft .comment-post .cancel-reply:hover{text-decoration:underline}#contentleft .comment-post small{font-size:12px;color:#999}#contentleft .comment-post input{padding:5px 5px;border:1px #b6b6b6 solid;font-size:12px;color:#333;width:40%}#contentleft .comment-post #comment{width:90%;border:1px #b6b6b6 solid;font-size:12px;color:#333}#contentleft .comment-post #comment_submit{background:url(data:image/gif;base64,R0lGODlhbwAdALMAAAAAAP////v7+/n5+fPz8+zs7NfX19bW1s/Pz////wAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAkALAAAAABvAB0AAAS2MKBJq7046827/1VgCGRpnmiqrmzrvnA5IGNs33iukzOy/8AgblYTGo9IInLJ3Cmb0GjrKa1aBdSrlpndeoXdr1g3OxDO6LR6zW673/C4fJ6e0O/4vH5fR/D/gIF6doKFhodnEwWLjI2Oj5CRkpOUlZaXjYqYm5ydnp+MmqCjpKWcoqapqquoq66vna2ws7SRsrW4tbe5vK67vcClv8HEnsPFyJfHycySy83QmRIg1NXW19gUAREAOw==)no-repeat;border:0;color:#000000;width:111px;height:29px;text-align:center;cursor:pointer}#contentleft .comment-post .input{width:100px}#contentleft .comment{margin:10px 0;padding:10px 0px;font-size:12px;border-bottom:1px #f7f7f7 solid;overflow:hidden;color:#333;height:100%;zoom:1}#contentleft .comment .comment-time{color:#999999;display:inline;font-size:10px}#contentleft .comment .comment-info{float:left;width:90%}#contentleft .comment .comment-content{margin:8px 0px 0px 0px}#contentleft .comment .comment-reply{float:right;font-size:12px;cursor:pointer}#contentleft .comment .comment-reply:hover{text-decoration:underline}#contentleft .comment-children{width:95%;margin:auto;clear:both;border:none;padding:0}.rss{margin:20px 0px}</style><style class="darkreader darkreader--sync" media=screen>body{background-image:initial;background-color:rgb(24,26,27);color:rgb(200,196,189)}#wrap{background-image:initial;background-color:rgb(24,26,27)}img{border-color:initial}a:link,a:active,a:visited{color:rgb(178,143,128);text-decoration-color:initial}a:hover{color:rgb(178,143,128);text-decoration-color:initial}#header h1{color:rgb(212,209,203)}#header h1 a:link{color:rgb(212,209,203);text-decoration-color:initial}#header h1 a:active{color:rgb(212,209,203);text-decoration-color:initial}#header h1 a:visited{color:rgb(212,209,203);text-decoration-color:initial}#header h1 a:hover{color:rgb(212,209,203);text-decoration-color:initial}#header h3{color:rgb(180,174,164)}#nav{border-color:rgb(53,57,59)}#nav a:link{color:rgb(212,209,203);text-decoration-color:initial}#nav a:active{color:rgb(212,209,203);text-decoration-color:initial}#nav a:visited{color:rgb(212,209,203);text-decoration-color:initial}#nav a:hover{color:rgb(212,209,203);text-decoration-color:initial}#pagenavi a:hover{text-decoration-color:initial}#pagenavi span{color:rgb(168,160,149)}#content h2{color:rgb(212,209,203)}#content h3{color:rgb(189,183,175)}#contentleft{border-left-color:rgb(53,57,59);border-right-color:rgb(53,57,59)}blockquote{background-image:initial;background-color:rgb(33,36,37);border-left-color:rgb(105,98,87);border-right-color:rgb(105,98,87)}#contentleft .date{color:rgb(177,133,114)}#contentleft .tag{color:rgb(177,133,114)}#sidebar{border-right-color:rgb(53,57,59)}#sidebar ul li{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiPjxkZWZzPjxmaWx0ZXIgaWQ9ImRhcmtyZWFkZXItaW1hZ2UtZmlsdGVyIj48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMC4zMzMgLTAuNjY3IC0wLjY2NyAwLjAwMCAxLjAwMCAtMC42NjcgMC4zMzMgLTAuNjY3IDAuMDAwIDEuMDAwIC0wLjY2NyAtMC42NjcgMC4zMzMgMC4wMDAgMS4wMDAgMC4wMDAgMC4wMDAgMC4wMDAgMS4wMDAgMC4wMDAiIC8+PC9maWx0ZXI+PC9kZWZzPjxpbWFnZSB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbHRlcj0idXJsKCNkYXJrcmVhZGVyLWltYWdlLWZpbHRlcikiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBTUNBSUFBQURaRjh1d0FBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFLVFdsRFExQlFhRzkwYjNOb2IzQWdTVU5ESUhCeWIyWnBiR1VBQUhqYW5WTjNXSlAzRmo3ZjkyVVBWa0xZOExHWGJJRUFJaU9zQ01nUVdhSVFrZ0JoaEJBU1FNV0ZpQXBXRkJVUm5FaFZ4SUxWQ2tpZGlPS2dLTGhuUVlxSVdvdFZYRGp1SDl5bnRYMTY3KzN0KzlmN3ZPZWM1L3pPZWM4UGdCRVNKcEhtb21vQU9WS0ZQRHJZSDQ5UFNNVEp2WUFDRlVqZ0JDQVE1c3ZDWndYRkFBRHdBM2w0Zm5Td1Avd0JyMjhBQWdCdzFTNGtFc2ZoLzRPNlVDWlhBQ0NSQU9BaUV1Y0xBWkJTQU1ndVZNZ1VBTWdZQUxCVHMyUUtBSlFBQUd4NWZFSWlBS29OQU96MFNUNEZBTmlwazl3WEFOaWlIS2tJQUkwQkFKa29SeVFDUUxzQVlGV0JVaXdDd01JQW9LeEFJaTRFd0s0QmdGbTJNa2NDZ0wwRkFIYU9XSkFQUUdBQWdKbENMTXdBSURnQ0FFTWVFODBESUV3RG9ERFN2K0NwWDNDRnVFZ0JBTURMbGMyWFM5SXpGTGlWMEJwMzh2RGc0aUhpd215eFFtRVhLUkJtQ2VRaW5KZWJJeE5JNXdOTXpnd0FBQnI1MGNIK09EK1E1K2JrNGVabTUyenY5TVdpL212d2J5SStJZkhmL3J5TUFnUUFFRTdQNzlwZjVlWFdBM0RIQWJCMXYydXBXd0RhVmdCbzMvbGRNOXNKb0ZvSzBIcjVpM2s0L0VBZW5xRlF5RHdkSEFvTEMrMGxZcUc5TU9PTFB2OHo0Vy9naTM3Mi9FQWUvdHQ2OEFCeG1rQ1pyY0NqZy8xeFlXNTJybEtPNThzRVFqRnU5K2NqL3NlRmYvMk9LZEhpTkxGY0xCV0s4VmlKdUZBaVRjZDV1VktSUkNISmxlSVM2WDh5OFIrVy9RbVRkdzBBcklaUHdFNjJCN1hMYk1CKzdnRUNpdzVZMG5ZQVFIN3pMWXdhQzVFQUVHYzBNbm4zQUFDVHYvbVBRQ3NCQU0yWHBPTUFBTHpvR0Z5b2xCZE14Z2dBQUVTZ2dTcXdRUWNNd1JTc3dBNmN3UjI4d0JjQ1lRWkVRQXdrd0R3UVFnYmtnQndLb1JpV1FSbFV3RHJZQkxXd0F4cWdFWnJoRUxUQk1UZ041K0FTWElIcmNCY0dZQmlld2hpOGhna0VRY2dJRTJFaE9vZ1JZbzdZSXM0SUY1bU9CQ0poU0RTU2dLUWc2WWdVVVNMRnlIS2tBcWxDYXBGZFNDUHlMWElVT1kxY1FQcVEyOGdnTW9yOGlyeEhNWlNCc2xFRDFBSjFRTG1vSHhxS3hxQnowWFEwRDEyQWxxSnIwUnEwSGoyQXRxS24wVXZvZFhRQWZZcU9ZNERSTVE1bWpObGhYSXlIUldDSldCb214eFpqNVZnMVZvODFZeDFZTjNZVkc4Q2VZZThJSkFLTGdCUHNDRjZFRU1Kc2dwQ1FSMWhNV0VPb0pld2p0Qks2Q0ZjSmc0UXh3aWNpazZoUHRDVjZFdm5FZUdJNnNaQllScXdtN2lFZUlaNGxYaWNPRTErVFNDUU95WkxrVGdvaEpaQXlTUXRKYTBqYlNDMmtVNlErMGhCcG5Fd202NUJ0eWQ3a0NMS0FyQ0NYa2JlUUQ1QlBrdnZKdytTM0ZEckZpT0pNQ2FJa1VxU1VFa28xWlQvbEJLV2ZNa0tab0twUnphbWUxQWlxaURxZldrbHRvSFpRTDFPSHFSTTBkWm9selpzV1E4dWtMYVBWMEpwcFoybjNhQy9wZExvSjNZTWVSWmZRbDlKcjZBZnA1K21EOUhjTURZWU5nOGRJWWlnWmF4bDdHYWNZdHhrdm1VeW1CZE9YbWNoVU1OY3lHNWxubUErWWIxVllLdllxZkJXUnloS1ZPcFZXbFg2VjU2cFVWWE5WUDlWNXFndFVxMVVQcTE1V2ZhWkdWYk5RNDZrSjFCYXIxYWtkVmJ1cE5xN09VbmRTajFEUFVWK2p2bC85Z3ZwakRiS0doVWFnaGtpalZHTzN4aG1OSVJiR01tWHhXRUxXY2xZRDZ5eHJtRTFpVzdMNTdFeDJCZnNiZGk5N1RGTkRjNnBtckdhUlpwM21jYzBCRHNheDRQQTUyWnhLemlIT0RjNTdMUU10UHkyeDFtcXRacTErclRmYWV0cSsybUx0Y3UwVzdldmE3M1Z3blVDZExKMzFPbTA2OTNVSnVqYTZVYnFGdXR0MXorbyswMlByZWVrSjljcjFEdW5kMFVmMWJmU2o5UmZxNzlidjBSODNNRFFJTnBBWmJERTRZL0RNa0dQb2E1aHB1Tkh3aE9Hb0VjdG91cEhFYUtQUlNhTW51Q2J1aDJmak5YZ1hQbWFzYnh4aXJEVGVaZHhyUEdGaWFUTGJwTVNreGVTK0tjMlVhNXBtdXRHMDAzVE16TWdzM0t6WXJNbnNqam5Wbkd1ZVliN1p2TnY4allXbFJaekZTb3MyaThlVzJwWjh5d1dXVFpiM3JKaFdQbFo1VnZWVzE2eEoxbHpyTE90dDFsZHNVQnRYbXd5Yk9wdkx0cWl0bTYzRWRwdHQzeFRpRkk4cDBpbjFVMjdhTWV6ODdBcnNtdXdHN1RuMllmWWw5bTMyengzTUhCSWQxanQwTzN4eWRIWE1kbXh3dk91azRUVERxY1NwdytsWFp4dG5vWE9kOHpVWHBrdVF5eEtYZHBjWFUyMm5pcWR1bjNyTGxlVWE3cnJTdGRQMW81dTdtOXl0MlczVTNjdzl4WDJyKzAwdW14dkpYY005NzBIMDhQZFk0bkhNNDUybm02ZkM4NURuTDE1MlhsbGUrNzBlVDdPY0pwN1dNRzNJMjhSYjRMM0xlMkE2UGoxbCtzN3BBejdHUGdLZmVwK0h2cWErSXQ4OXZpTisxbjZaZmdmOG52czcrc3Y5ai9pLzRYbnlGdkZPQldBQndRSGxBYjJCR29HekEyc0RId1NaQktVSE5RV05CYnNHTHd3K0ZVSU1DUTFaSDNLVGI4QVg4aHY1WXpQY1p5eWEwUlhLQ0owVldodjZNTXdtVEI3V0VZNkd6d2pmRUg1dnB2bE02Y3kyQ0lqZ1IyeUl1QjlwR1prWCtYMFVLU295cWk3cVViUlRkSEYwOXl6V3JPUlorMmU5anZHUHFZeTVPOXRxdG5KMlo2eHFiRkpzWSt5YnVJQzRxcmlCZUlmNFJmR1hFblFUSkFudGllVEUyTVE5aWVOekF1ZHNtak9jNUpwVWxuUmpydVhjb3JrWDV1bk95NTUzUEZrMVdaQjhPSVdZRXBleVArV0RJRUpRTHhoUDVhZHVUUjBUOG9TYmhVOUZ2cUtOb2xHeHQ3aEtQSkxtblZhVjlqamRPMzFEK21pR1QwWjF4ak1KVDFJcmVaRVprcmtqODAxV1JOYmVyTS9aY2RrdE9aU2NsSnlqVWcxcGxyUXIxekMzS0xkUFppc3JrdzNrZWVadHlodVRoOHIzNUNQNWMvUGJGV3lGVE5HanRGS3VVQTRXVEMrb0szaGJHRnQ0dUVpOVNGclVNOTltL3VyNUl3dUNGbnk5a0xCUXVMQ3oyTGg0V2ZIZ0lyOUZ1eFlqaTFNWGR5NHhYVks2WkhocDhOSjl5MmpMc3BiOVVPSllVbFh5YW5uYzhvNVNnOUtscFVNcmdsYzBsYW1VeWN0dXJ2UmF1V01WWVpWa1ZlOXFsOVZiVm44cUY1VmZySENzcUs3NHNFYTQ1dUpYVGwvVmZQVjViZHJhM2txM3l1M3JTT3VrNjI2czkxbS9yMHE5YWtIVjBJYndEYTBiOFkzbEcxOXRTdDUwb1hwcTlZN050TTNLelFNMVlUWHRXOHkyck52eW9UYWo5bnFkZjEzTFZ2MnRxN2UrMlNiYTFyL2RkM3Z6RG9NZEZUdmU3NVRzdkxVcmVGZHJ2VVY5OVc3UzdvTGRqeHBpRzdxLzVuN2R1RWQzVDhXZWozdWxld2YyUmUvcmFuUnZiTnl2djcreUNXMVNObzBlU0RwdzVadUFiOXFiN1pwM3RYQmFLZzdDUWVYQko5K21mSHZqVU9paHpzUGN3ODNmbVgrMzlRanJTSGtyMGpxL2Rhd3RvMjJnUGFHOTcraU1vNTBkWGgxSHZyZi9mdTh4NDJOMXh6V1BWNTZnblNnOThmbmtncFBqcDJTbm5wMU9QejNVbWR4NTkwejhtV3RkVVYyOVowUFBuajhYZE81TXQxLzN5ZlBlNTQ5ZDhMeHc5Q0wzWXRzbHQwdXRQYTQ5UjM1dy9lRklyMXR2NjJYM3krMVhQSzUwOUUzck85SHYwMy82YXNEVmM5ZjQxeTVkbjNtOTc4YnNHN2R1SnQwY3VDVzY5ZmgyOXUwWGR3cnVUTnhkZW85NHIveSsydjNxQi9vUDZuKzAvckZsd0czZytHREFZTS9EV1EvdkRnbUhudjZVLzlPSDRkSkh6RWZWSTBZampZK2RIeDhiRFJxOThtVE9rK0duc3FjVHo4cCtWdjk1NjNPcjU5Lzk0dnRMejFqODJQQUwrWXZQdjY1NXFmTnk3NnVwcnpySEk4Y2Z2TTU1UGZHbS9LM08yMzN2dU8rNjM4ZTlINWtvL0VEK1VQUFIrbVBIcDlCUDl6N25mUDc4TC9lRTgvc2wwcDh6QUFBQUJHZEJUVUVBQUxHT2ZQdFJrd0FBQUNCalNGSk5BQUI2SlFBQWdJTUFBUG4vQUFDQTZRQUFkVEFBQU9wZ0FBQTZtQUFBRjIrU1g4VkdBQUFBVEVsRVFWUjQyclRRc1EzQU1BZ0ZVVHVMd0Noa0tCaURsUzgxQ3JiVDVPb245TVVFeHFscmZLaWd6T3dWTlhmblZVRVJBZHhtT3dTWUdTQWlTOVNLNXBLcUhqYTFBcGovUEhQVk13QzZOTXB1UmIvSEVnQUFBQUJKUlU1RXJrSmdnZz09IiAvPjwvc3ZnPg==);background-color:transparent}#sidebar ul li ul li{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiPjxkZWZzPjxmaWx0ZXIgaWQ9ImRhcmtyZWFkZXItaW1hZ2UtZmlsdGVyIj48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMC4zMzMgLTAuNjY3IC0wLjY2NyAwLjAwMCAxLjAwMCAtMC42NjcgMC4zMzMgLTAuNjY3IDAuMDAwIDEuMDAwIC0wLjY2NyAtMC42NjcgMC4zMzMgMC4wMDAgMS4wMDAgMC4wMDAgMC4wMDAgMC4wMDAgMS4wMDAgMC4wMDAiIC8+PC9maWx0ZXI+PC9kZWZzPjxpbWFnZSB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbHRlcj0idXJsKCNkYXJrcmVhZGVyLWltYWdlLWZpbHRlcikiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBTUNBSUFBQURaRjh1d0FBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFLVFdsRFExQlFhRzkwYjNOb2IzQWdTVU5ESUhCeWIyWnBiR1VBQUhqYW5WTjNXSlAzRmo3ZjkyVVBWa0xZOExHWGJJRUFJaU9zQ01nUVdhSVFrZ0JoaEJBU1FNV0ZpQXBXRkJVUm5FaFZ4SUxWQ2tpZGlPS2dLTGhuUVlxSVdvdFZYRGp1SDl5bnRYMTY3KzN0KzlmN3ZPZWM1L3pPZWM4UGdCRVNKcEhtb21vQU9WS0ZQRHJZSDQ5UFNNVEp2WUFDRlVqZ0JDQVE1c3ZDWndYRkFBRHdBM2w0Zm5Td1Avd0JyMjhBQWdCdzFTNGtFc2ZoLzRPNlVDWlhBQ0NSQU9BaUV1Y0xBWkJTQU1ndVZNZ1VBTWdZQUxCVHMyUUtBSlFBQUd4NWZFSWlBS29OQU96MFNUNEZBTmlwazl3WEFOaWlIS2tJQUkwQkFKa29SeVFDUUxzQVlGV0JVaXdDd01JQW9LeEFJaTRFd0s0QmdGbTJNa2NDZ0wwRkFIYU9XSkFQUUdBQWdKbENMTXdBSURnQ0FFTWVFODBESUV3RG9ERFN2K0NwWDNDRnVFZ0JBTURMbGMyWFM5SXpGTGlWMEJwMzh2RGc0aUhpd215eFFtRVhLUkJtQ2VRaW5KZWJJeE5JNXdOTXpnd0FBQnI1MGNIK09EK1E1K2JrNGVabTUyenY5TVdpL212d2J5SStJZkhmL3J5TUFnUUFFRTdQNzlwZjVlWFdBM0RIQWJCMXYydXBXd0RhVmdCbzMvbGRNOXNKb0ZvSzBIcjVpM2s0L0VBZW5xRlF5RHdkSEFvTEMrMGxZcUc5TU9PTFB2OHo0Vy9naTM3Mi9FQWUvdHQ2OEFCeG1rQ1pyY0NqZy8xeFlXNTJybEtPNThzRVFqRnU5K2NqL3NlRmYvMk9LZEhpTkxGY0xCV0s4VmlKdUZBaVRjZDV1VktSUkNISmxlSVM2WDh5OFIrVy9RbVRkdzBBcklaUHdFNjJCN1hMYk1CKzdnRUNpdzVZMG5ZQVFIN3pMWXdhQzVFQUVHYzBNbm4zQUFDVHYvbVBRQ3NCQU0yWHBPTUFBTHpvR0Z5b2xCZE14Z2dBQUVTZ2dTcXdRUWNNd1JTc3dBNmN3UjI4d0JjQ1lRWkVRQXdrd0R3UVFnYmtnQndLb1JpV1FSbFV3RHJZQkxXd0F4cWdFWnJoRUxUQk1UZ041K0FTWElIcmNCY0dZQmlld2hpOGhna0VRY2dJRTJFaE9vZ1JZbzdZSXM0SUY1bU9CQ0poU0RTU2dLUWc2WWdVVVNMRnlIS2tBcWxDYXBGZFNDUHlMWElVT1kxY1FQcVEyOGdnTW9yOGlyeEhNWlNCc2xFRDFBSjFRTG1vSHhxS3hxQnowWFEwRDEyQWxxSnIwUnEwSGoyQXRxS24wVXZvZFhRQWZZcU9ZNERSTVE1bWpObGhYSXlIUldDSldCb214eFpqNVZnMVZvODFZeDFZTjNZVkc4Q2VZZThJSkFLTGdCUHNDRjZFRU1Kc2dwQ1FSMWhNV0VPb0pld2p0Qks2Q0ZjSmc0UXh3aWNpazZoUHRDVjZFdm5FZUdJNnNaQllScXdtN2lFZUlaNGxYaWNPRTErVFNDUU95WkxrVGdvaEpaQXlTUXRKYTBqYlNDMmtVNlErMGhCcG5Fd202NUJ0eWQ3a0NMS0FyQ0NYa2JlUUQ1QlBrdnZKdytTM0ZEckZpT0pNQ2FJa1VxU1VFa28xWlQvbEJLV2ZNa0tab0twUnphbWUxQWlxaURxZldrbHRvSFpRTDFPSHFSTTBkWm9selpzV1E4dWtMYVBWMEpwcFoybjNhQy9wZExvSjNZTWVSWmZRbDlKcjZBZnA1K21EOUhjTURZWU5nOGRJWWlnWmF4bDdHYWNZdHhrdm1VeW1CZE9YbWNoVU1OY3lHNWxubUErWWIxVllLdllxZkJXUnloS1ZPcFZXbFg2VjU2cFVWWE5WUDlWNXFndFVxMVVQcTE1V2ZhWkdWYk5RNDZrSjFCYXIxYWtkVmJ1cE5xN09VbmRTajFEUFVWK2p2bC85Z3ZwakRiS0doVWFnaGtpalZHTzN4aG1OSVJiR01tWHhXRUxXY2xZRDZ5eHJtRTFpVzdMNTdFeDJCZnNiZGk5N1RGTkRjNnBtckdhUlpwM21jYzBCRHNheDRQQTUyWnhLemlIT0RjNTdMUU10UHkyeDFtcXRacTErclRmYWV0cSsybUx0Y3UwVzdldmE3M1Z3blVDZExKMzFPbTA2OTNVSnVqYTZVYnFGdXR0MXorbyswMlByZWVrSjljcjFEdW5kMFVmMWJmU2o5UmZxNzlidjBSODNNRFFJTnBBWmJERTRZL0RNa0dQb2E1aHB1Tkh3aE9Hb0VjdG91cEhFYUtQUlNhTW51Q2J1aDJmak5YZ1hQbWFzYnh4aXJEVGVaZHhyUEdGaWFUTGJwTVNreGVTK0tjMlVhNXBtdXRHMDAzVE16TWdzM0t6WXJNbnNqam5Wbkd1ZVliN1p2TnY4allXbFJaekZTb3MyaThlVzJwWjh5d1dXVFpiM3JKaFdQbFo1VnZWVzE2eEoxbHpyTE90dDFsZHNVQnRYbXd5Yk9wdkx0cWl0bTYzRWRwdHQzeFRpRkk4cDBpbjFVMjdhTWV6ODdBcnNtdXdHN1RuMllmWWw5bTMyengzTUhCSWQxanQwTzN4eWRIWE1kbXh3dk91azRUVERxY1NwdytsWFp4dG5vWE9kOHpVWHBrdVF5eEtYZHBjWFUyMm5pcWR1bjNyTGxlVWE3cnJTdGRQMW81dTdtOXl0MlczVTNjdzl4WDJyKzAwdW14dkpYY005NzBIMDhQZFk0bkhNNDUybm02ZkM4NURuTDE1MlhsbGUrNzBlVDdPY0pwN1dNRzNJMjhSYjRMM0xlMkE2UGoxbCtzN3BBejdHUGdLZmVwK0h2cWErSXQ4OXZpTisxbjZaZmdmOG52czcrc3Y5ai9pLzRYbnlGdkZPQldBQndRSGxBYjJCR29HekEyc0RId1NaQktVSE5RV05CYnNHTHd3K0ZVSU1DUTFaSDNLVGI4QVg4aHY1WXpQY1p5eWEwUlhLQ0owVldodjZNTXdtVEI3V0VZNkd6d2pmRUg1dnB2bE02Y3kyQ0lqZ1IyeUl1QjlwR1prWCtYMFVLU295cWk3cVViUlRkSEYwOXl6V3JPUlorMmU5anZHUHFZeTVPOXRxdG5KMlo2eHFiRkpzWSt5YnVJQzRxcmlCZUlmNFJmR1hFblFUSkFudGllVEUyTVE5aWVOekF1ZHNtak9jNUpwVWxuUmpydVhjb3JrWDV1bk95NTUzUEZrMVdaQjhPSVdZRXBleVArV0RJRUpRTHhoUDVhZHVUUjBUOG9TYmhVOUZ2cUtOb2xHeHQ3aEtQSkxtblZhVjlqamRPMzFEK21pR1QwWjF4ak1KVDFJcmVaRVprcmtqODAxV1JOYmVyTS9aY2RrdE9aU2NsSnlqVWcxcGxyUXIxekMzS0xkUFppc3JrdzNrZWVadHlodVRoOHIzNUNQNWMvUGJGV3lGVE5HanRGS3VVQTRXVEMrb0szaGJHRnQ0dUVpOVNGclVNOTltL3VyNUl3dUNGbnk5a0xCUXVMQ3oyTGg0V2ZIZ0lyOUZ1eFlqaTFNWGR5NHhYVks2WkhocDhOSjl5MmpMc3BiOVVPSllVbFh5YW5uYzhvNVNnOUtscFVNcmdsYzBsYW1VeWN0dXJ2UmF1V01WWVpWa1ZlOXFsOVZiVm44cUY1VmZySENzcUs3NHNFYTQ1dUpYVGwvVmZQVjViZHJhM2txM3l1M3JTT3VrNjI2czkxbS9yMHE5YWtIVjBJYndEYTBiOFkzbEcxOXRTdDUwb1hwcTlZN050TTNLelFNMVlUWHRXOHkyck52eW9UYWo5bnFkZjEzTFZ2MnRxN2UrMlNiYTFyL2RkM3Z6RG9NZEZUdmU3NVRzdkxVcmVGZHJ2VVY5OVc3UzdvTGRqeHBpRzdxLzVuN2R1RWQzVDhXZWozdWxld2YyUmUvcmFuUnZiTnl2djcreUNXMVNObzBlU0RwdzVadUFiOXFiN1pwM3RYQmFLZzdDUWVYQko5K21mSHZqVU9paHpzUGN3ODNmbVgrMzlRanJTSGtyMGpxL2Rhd3RvMjJnUGFHOTcraU1vNTBkWGgxSHZyZi9mdTh4NDJOMXh6V1BWNTZnblNnOThmbmtncFBqcDJTbm5wMU9QejNVbWR4NTkwejhtV3RkVVYyOVowUFBuajhYZE81TXQxLzN5ZlBlNTQ5ZDhMeHc5Q0wzWXRzbHQwdXRQYTQ5UjM1dy9lRklyMXR2NjJYM3krMVhQSzUwOUUzck85SHYwMy82YXNEVmM5ZjQxeTVkbjNtOTc4YnNHN2R1SnQwY3VDVzY5ZmgyOXUwWGR3cnVUTnhkZW85NHIveSsydjNxQi9vUDZuKzAvckZsd0czZytHREFZTS9EV1EvdkRnbUhudjZVLzlPSDRkSkh6RWZWSTBZampZK2RIeDhiRFJxOThtVE9rK0duc3FjVHo4cCtWdjk1NjNPcjU5Lzk0dnRMejFqODJQQUwrWXZQdjY1NXFmTnk3NnVwcnpySEk4Y2Z2TTU1UGZHbS9LM08yMzN2dU8rNjM4ZTlINWtvL0VEK1VQUFIrbVBIcDlCUDl6N25mUDc4TC9lRTgvc2wwcDh6QUFBQUJHZEJUVUVBQUxHT2ZQdFJrd0FBQUNCalNGSk5BQUI2SlFBQWdJTUFBUG4vQUFDQTZRQUFkVEFBQU9wZ0FBQTZtQUFBRjIrU1g4VkdBQUFBVEVsRVFWUjQyclRRc1EzQU1BZ0ZVVHVMd0Noa0tCaURsUzgxQ3JiVDVPb245TVVFeHFscmZLaWd6T3dWTlhmblZVRVJBZHhtT3dTWUdTQWlTOVNLNXBLcUhqYTFBcGovUEhQVk13QzZOTXB1UmIvSEVnQUFBQUJKUlU1RXJrSmdnZz09IiAvPjwvc3ZnPg==);background-color:transparent}#footerbar{border-top-color:rgb(53,57,59)}#contentleft .comment-post .cancel-reply:hover{text-decoration-color:initial}#contentleft .comment-post small{color:rgb(168,160,149)}#contentleft .comment-post input{border-color:rgb(69,74,77);color:rgb(200,195,188)}#contentleft .comment-post #comment{border-color:rgb(69,74,77);color:rgb(200,195,188)}#contentleft .comment-post #comment_submit{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjI5Ij48ZGVmcz48ZmlsdGVyIGlkPSJkYXJrcmVhZGVyLWltYWdlLWZpbHRlciI+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAuMzMzIC0wLjY2NyAtMC42NjcgMC4wMDAgMS4wMDAgLTAuNjY3IDAuMzMzIC0wLjY2NyAwLjAwMCAxLjAwMCAtMC42NjcgLTAuNjY3IDAuMzMzIDAuMDAwIDEuMDAwIDAuMDAwIDAuMDAwIDAuMDAwIDEuMDAwIDAuMDAwIiAvPjwvZmlsdGVyPjwvZGVmcz48aW1hZ2Ugd2lkdGg9IjExMSIgaGVpZ2h0PSIyOSIgZmlsdGVyPSJ1cmwoI2RhcmtyZWFkZXItaW1hZ2UtZmlsdGVyKSIgeGxpbms6aHJlZj0iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoYndBZEFMTUFBQUFBQVAvLy8vdjcrL241K2ZQejgrenM3TmZYMTliVzFzL1B6Ly8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUNINUJBRUFBQWtBTEFBQUFBQnZBQjBBQUFTMk1LQkpxNzA0NjgyNy8xVmdDR1Jwbm1pcXJtenJ2bkE1SUdOczMzaXVrek95LzhBZ2JsWVRHbzlJSW5MSjNDbWIwR2pyS2ExYUJkU3JscG5kZW9YZHIxZzNPeERPNkxSNnpXNjczL0M0Zko2ZTBPLzR2SDVmUi9EL2dJRjZkb0tGaG9kbkV3V0xqSTJPajVDUmtwT1VsWmFYallxWW01eWRucCtNbXFDanBLV2NvcWFwcXF1b3E2NnZuYTJ3czdTUnNyVzR0YmU1dks2N3ZjQ2x2OEhFbnNQRnlKZkh5Y3lTeTgzUW1SSWcxTlhXMTlnVUFSRUFPdz09IiAvPjwvc3ZnPg==);background-color:initial;border-color:initial;color:rgb(232,230,227)}#contentleft .comment{border-bottom-color:rgb(50,54,57);color:rgb(200,195,188)}#contentleft .comment .comment-time{color:rgb(168,160,149)}#contentleft .comment .comment-reply:hover{text-decoration-color:initial}#contentleft .comment-children{border-color:initial}</style>
<style>@media screen{.tag{color:#008}}</style><style class="darkreader darkreader--sync" media=screen>@media screen{.tag{color:rgb(122,171,255)}}</style>
<meta name=darkreader content=3a22d17210da35e91ed49828f96cec9a><style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style>
<!--[if IE 6]>
<script src="http://www.wowotech.net/content/templates/default/iefix.js" type="text/javascript"></script>
<![endif]-->
<link type=image/x-icon rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////v7+//7+/v/+/v7/////////////////////////////////////////////////////////////////zc3N/5qamv+fn5//lpaW/+Li4v//////////////////////////////////////////////////////ysrK/7S0tP/9/f3/3d3d//T09P+UlJT/9/f3////////////0NDQ/2BgYP+7u7v//v7+/////////////////5ycnP/+/v7/oaGh/7W1tf+SkpL/09PT/8vLy///////+Pj4/5iYmP/d3d3/fn5+/3Fxcf/+/v7///////////+hoaH//v7+/5ycnP+Li4v/jo6O/8fHx//U1NT///////j4+P/Gxsb/Tk5O/9PT0/+NjY3/ubm5////////////nZ2d//7+/v+tra3/pqam/7a2tv+YmJj//f39//////++vr7/2dnZ/+3t7f9hYWH/+vr6/3d3d//+/v7//////6SkpP/r6+v//v7+/+Li4v/c3Nz//v7+///////09PT/lZWV//7+/v/+/v7/gYGB/97e3v9tbW3/5+fn//7+/v/29vb/kZGR/+fn5/////////////7+/v/f39//kZGR//Dw8P///////////97e3v95eXn/5eXl/2NjY/+Hh4f///////j4+P+wsLD/n5+f/6CgoP+cnJz/tbW1//v7+//////////////////+/v7/cHBw/29vb/+np6f/mpqa//////////////////7+/v/+/v7//v7+////////////////////////////4+Pj/4eHh/+bm5v/2NjY//7+/v//////////////////////////////////////////////////////0NDQ/66urv/8/Pz/y8vL//7+/v///////////////////////////////////////////////////////////6mpqf/g4OD//////729vf//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="><style>.sf-hidden{display:none!important}</style><link rel=canonical href=http://www.wowotech.net/device_model/device_resource_management.html><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body>
<div id=wrap>
 <div id=header>
 <h1><a href=http://www.wowotech.net/>蜗窝科技</a></h1>
 <h3>慢下来，享受技术。</h3>
 </div>
 <div id=banner><a href=http://www.wowotech.net/><img src="data:image/jpeg;base64,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" height=134 width=960></a></div>
 <div id=nav>	<ul class=bar>
 <li class="item common">
 <a href=http://www.wowotech.net/>博客</a>
 </li>
 <li class="item common">
 <a href=http://www.wowotech.net/sort/project>项目</a>
 <ul class="sub-nav sf-hidden">
 </ul>
 </li>
 <li class="item common">
 <a href=http://www.wowotech.net/about.html>关于蜗窝</a>
 </li>
 <li class="item common">
 <a href=http://www.wowotech.net/contact_us.html>联系我们</a>
 </li>
 <li class="item common">
 <a href=http://www.wowotech.net/support_us.html>支持与合作</a>
 </li>
 <li class="item common">
 <a href=http://www.wowotech.net/admin>登录</a>
 </li>
 </ul>
</div>﻿<div id=content>
<div id=contentleft>
 <h2>Linux设备模型(9)_device resource management</h2>
 <p class=date>作者：<a href=http://www.wowotech.net/author/2 title=" runangaozhong@163.com">wowo</a> 发布于：2014-9-24 23:28 
 分类：<a href=http://www.wowotech.net/sort/device_model>统一设备模型</a>
 </p>
 <h4>1. 前言</h4> <p><font color=#0000ff data-darkreader-inline-color style=--darkreader-inline-color:#337dff><strong>蜗蜗建议，每一个Linux驱动工程师，都能瞄一眼本文。</strong></font></p> <p>之所以用“瞄”，因此它很简单，几乎不需要花费心思就能理解。之所有这建议，是因为它非常实用，可以解答一些困惑，可以使我们的代码变得简单、简洁。先看一个例子：</p> <div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor> <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor> <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* drivers/media/platform/soc_camera/mx1_camera.c, line 695 */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> __init mx1_camera_probe(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> platform_device *pdev)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>     res = platform_get_resource(pdev, IORESOURCE_MEM, 0);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>     irq = platform_get_irq(pdev, 0);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!res || (<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span>)irq &lt;= 0) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span>         err = -ENODEV;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum10 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  10:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum11 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  11:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum12 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  12:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum13 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  13:</span>     clk = clk_get(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"csi_clk"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum14 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  14:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (IS_ERR(clk)) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum15 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  15:</span>         err = PTR_ERR(clk);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum16 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  16:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum17 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  17:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum18 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  18:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum19 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  19:</span>     pcdev = kzalloc(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>sizeof</span>(*pcdev), GFP_KERNEL);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum20 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  20:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!pcdev) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum21 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  21:</span>         dev_err(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"Could not allocate pcdev\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum22 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  22:</span>         err = -ENOMEM;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum23 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  23:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit_put_clk;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum24 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  24:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum25 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  25:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum26 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  26:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum27 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  27:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum28 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  28:</span>     <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/*</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum29 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  29:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>     * Request the regions.</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum30 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  30:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>     */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum31 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  31:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!request_mem_region(res-&gt;start, resource_size(res), DRIVER_NAME)) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum32 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  32:</span>         err = -EBUSY;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum33 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  33:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit_kfree;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum34 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  34:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum35 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  35:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum36 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  36:</span>     base = ioremap(res-&gt;start, resource_size(res));</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum37 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  37:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!base) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum38 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  38:</span>         err = -ENOMEM;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum39 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  39:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit_release;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum40 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  40:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum41 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  41:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum42 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  42:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum43 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  43:</span>     <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* request dma */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum44 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  44:</span>     pcdev-&gt;dma_chan = imx_dma_request_by_prio(DRIVER_NAME, DMA_PRIO_HIGH);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum45 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  45:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (pcdev-&gt;dma_chan &lt; 0) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum46 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  46:</span>         dev_err(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"Can't request DMA for MX1 CSI\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum47 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  47:</span>         err = -EBUSY;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum48 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  48:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit_iounmap;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum49 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  49:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum50 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  50:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum51 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  51:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum52 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  52:</span>     <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* request irq */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum53 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  53:</span>     err = claim_fiq(&amp;fh);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum54 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  54:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (err) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum55 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  55:</span>         dev_err(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"Camera interrupt register failed\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum56 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  56:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit_free_dma;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum57 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  57:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum58 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  58:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum59 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  59:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum60 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  60:</span>     err = soc_camera_host_register(&amp;pcdev-&gt;soc_host);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum61 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  61:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (err)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum62 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  62:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>goto</span> exit_free_irq;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum63 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  63:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum64 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  64:</span>     dev_info(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"MX1 Camera driver loaded\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum65 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  65:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum66 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  66:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> 0;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum67 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  67:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum68 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  68:</span> exit_free_irq:</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum69 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  69:</span>     disable_fiq(irq);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum70 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  70:</span>     mxc_set_irq_fiq(irq, 0);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum71 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  71:</span>     release_fiq(&amp;fh);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum72 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  72:</span> exit_free_dma:</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum73 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  73:</span>     imx_dma_free(pcdev-&gt;dma_chan);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum74 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  74:</span> exit_iounmap:</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum75 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  75:</span>     iounmap(base);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum76 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  76:</span> exit_release:</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum77 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  77:</span>     release_mem_region(res-&gt;start, resource_size(res));</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum78 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  78:</span> exit_kfree:</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum79 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  79:</span>     kfree(pcdev);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum80 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  80:</span> exit_put_clk:</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum81 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  81:</span>     clk_put(clk);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum82 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  82:</span> exit:</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum83 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  83:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> err;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum84 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  84:</span> }</pre>
</div>
</div>
<p>相信每一个写过Linux driver的工程师，都在probe函数中遇到过上面的困惑：要顺序申请多种资源（IRQ、Clock、memory、regions、ioremap、dma、等等），只要任意一种资源申请失败，就要回滚释放之前申请的所有资源。于是函数的最后，一定会出现很多的goto标签（如上面的exit_free_irq、exit_free_dma、等等），并在申请资源出错时，小心翼翼的goto到正确的标签上，以便释放已申请资源。</p>
<p>正像上面代码一样，整个函数被大段的、重复的“if (condition) { err = xxx; goto xxx; }”充斥，浪费精力，容易出错，不美观。有困惑，就有改善的余地，最终，Linux设备模型借助device resource management（设备资源管理），帮我们解决了这个问题。就是：driver你只管申请就行了，不用考虑释放，我设备模型帮你释放。最终，我们的driver可以这样写：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> __init mx1_camera_probe(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> platform_device *pdev)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>     res = platform_get_resource(pdev, IORESOURCE_MEM, 0);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>     irq = platform_get_irq(pdev, 0);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!res || (<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span>)irq &lt;= 0) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> -ENODEV;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum10 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  10:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum11 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  11:</span>     clk = devm_clk_get(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"csi_clk"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum12 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  12:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (IS_ERR(clk)) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum13 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  13:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> PTR_ERR(clk);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum14 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  14:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum15 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  15:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum16 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  16:</span>     pcdev = devm_kzalloc(&amp;pdev-&gt;dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>sizeof</span>(*pcdev), GFP_KERNEL);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum17 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  17:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!pcdev) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum18 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  18:</span>         dev_err(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"Could not allocate pcdev\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum19 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  19:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> -ENOMEM;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum20 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  20:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum21 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  21:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum22 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  22:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum23 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  23:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum24 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  24:</span>     <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/*</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum25 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  25:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>     * Request the regions.</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum26 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  26:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>     */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum27 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  27:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!devm_request_mem_region(&amp;pdev-&gt;dev, res-&gt;start, resource_size(res), DRIVER_NAME)) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum28 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  28:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> -EBUSY;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum29 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  29:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum30 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  30:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum31 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  31:</span>     base = devm_ioremap(&amp;pdev-&gt;dev, res-&gt;start, resource_size(res));</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum32 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  32:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!base) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum33 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  33:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> -ENOMEM;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum34 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  34:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum35 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  35:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum36 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  36:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum37 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  37:</span>     <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* request dma */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum38 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  38:</span>     pcdev-&gt;dma_chan = imx_dma_request_by_prio(DRIVER_NAME, DMA_PRIO_HIGH);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum39 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  39:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (pcdev-&gt;dma_chan &lt; 0) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum40 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  40:</span>         dev_err(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"Can't request DMA for MX1 CSI\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum41 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  41:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> -EBUSY;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum42 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  42:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum43 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  43:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum44 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  44:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum45 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  45:</span>     <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* request irq */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum46 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  46:</span>     err = claim_fiq(&amp;fh);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum47 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  47:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (err) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum48 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  48:</span>         dev_err(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"Camera interrupt register failed\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum49 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  49:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> err;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum50 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  50:</span>     }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum51 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  51:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum52 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  52:</span>     ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum53 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  53:</span>     err = soc_camera_host_register(&amp;pcdev-&gt;soc_host);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum54 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  54:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (err)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum55 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  55:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> err;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum56 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  56:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum57 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  57:</span>     dev_info(&amp;pdev-&gt;dev, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"MX1 Camera driver loaded\n"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum58 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  58:</span>  </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum59 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  59:</span>     <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> 0;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum60 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  60:</span> }</pre>
</div>
</div>
<p>怎么做到呢？注意上面“devm_”开头的接口，答案就在那里。不要再使用那些常规的资源申请接口，用devm_xxx的接口代替。为了保持兼容，这些新接口和旧接口的参数保持一致，只是名字前加了“devm_”，并多加一个struct device指针。</p>
<h4>2. devm_xxx</h4>
<p>下面列举一些常用的资源申请接口，它们由各个framework（如clock、regulator、gpio、等等）基于device resource management实现。使用时，直接忽略“devm_”的前缀，后面剩下的部分，driver工程师都很熟悉。只需记住一点，driver可以只申请，不释放，设备模型会帮忙释放。不过如果为了严谨，在driver remove时，可以主动释放（也有相应的接口，这里没有列出）。</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>extern</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *devm_kzalloc(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, size_t size, gfp_t gfp);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> __iomem *devm_ioremap_resource(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>   <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> resource *res);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> __iomem *devm_ioremap(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, resource_size_t offset,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>   <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> size);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> clk *devm_clk_get(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *id);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum10 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  10:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> devm_gpio_request(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> gpio,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum11 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  11:</span>   <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *label);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum12 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  12:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum13 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  13:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>inline</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> pinctrl * devm_pinctrl_get_select(</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum14 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  14:</span>   <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *name)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum15 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  15:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum16 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  16:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>inline</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> pwm_device *devm_pwm_get(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum17 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  17:</span>   <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *consumer);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum18 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  18:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum19 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  19:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> regulator *devm_regulator_get(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *id);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum20 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  20:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum21 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  21:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>inline</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> devm_request_irq(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> irq, </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum22 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  22:</span>   irq_handler_t handler, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> irqflags, </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum23 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  23:</span>   <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *devname, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *dev_id);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum24 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  24:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum25 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  25:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> reset_control *devm_reset_control_get(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum26 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  26:</span>   <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *id);</pre>
</div>
</div>
<h4>3. 什么是“设备资源”</h4>
<p>一个设备能工作，需要依赖很多的外部条件，如供电、时钟等等，这些外部条件称作设备资源（device resouce）。对于现代计算机的体系结构，可能的资源包括：</p>
<blockquote>
 <p>a）power，供电。 
 <br>b）clock，时钟。 
 <br>c）memory，内存，在kernel中一般使用kzalloc分配。 
 <br>d）GPIO，用户和CPU交换简单控制、状态等信息。 
 <br>e）IRQ，触发中断。 
 <br>f）DMA，无CPU参与情况下进行数据传输。 
 <br>g）虚拟地址空间，一般使用ioremap、request_region等分配。 
 <br>h）等等</p>
</blockquote>
<p>而在Linux kernel的眼中，“资源”的定义更为广义，比如PWM、RTC、Reset，都可以抽象为资源，供driver使用。</p>
<p>在较早的kernel中，系统还不是特别复杂，且各个framework还没有成型，因此大多的资源都由driver自行维护。但随着系统复杂度的增加，driver之间共用资源的情况越来越多，同时电源管理的需求也越来越迫切。于是kernel就将各个resource的管理权收回，基于“device resource management”的框架，由各个framework统一管理，包括分配和回收。 
 <br></p>
<h4>4. device resource management的软件框架</h4>
<p><a href=http://www.wowotech.net/content/uploadfile/201409/9838563badc0945a6e5e5c95013ecc7720140925151511.gif><img title="device resource management" style=border-left-width:0px;border-right-width:0px;border-bottom-width:0px;float:none;margin-left:auto;display:block;border-top-width:0px;margin-right:auto border=0 alt="device resource management" src="data:image/gif;base64,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" width=640 height=363></a> device resource management位于“drivers/base/devres.c”中，它的实现非常简单，为什么呢？因为资源的种类有很多，表现形式也多种多样，而devres不可能一一知情，也就不能进行具体的分配和回收。因此，devres能做的（也是它的唯一功能），就是：</p>
<blockquote>
 <p>提供一种机制，将系统中某个设备的所有资源，以链表的形式，组织起来，以便在driver detach的时候，自动释放。</p>
</blockquote>
<p>而更为具体的事情，如怎么抽象某一种设备，则由上层的framework负责。这些framework包括：regulator framework（管理power资源），clock framework（管理clock资源），interrupt framework（管理中断资源）、gpio framework（管理gpio资源），pwm framework（管理PWM），等等。</p>
<p>其它的driver，位于这些framework之上，使用它们提供的机制和接口，开发起来就非常方便了。</p>
<h4>5. 代码分析</h4>
<h5>5.1 数据结构</h5>
<p>先从struct device开始吧！该结构中有一个名称为“devres_head”的链表头，用于保存该设备申请的所有资源，如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span>         ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         spinlock_t              devres_lock;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> list_head        devres_head;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         ...</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span> }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>&nbsp; </pre>
</div>
</div>
<p>那资源的数据结构呢？在“drivers/base/devres.c”中，名称为struct devres，如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres_node              node;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* -- 3 pointers */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span>              data[]; <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* guarantee ull alignment */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span> };</pre>
</div>
</div>
<p>咋一看非常简单，一个struct devres_node的变量node，一个零长度数组data，但其中有无穷奥妙，让我们继续分析。</p>
<p>node用于将devres组织起来，方便插入到device结构的devres_head链表中，因此一定也有一个list_head（见下面的entry）。另外，资源的存在形式到底是什么，device resource management并不知情，因此需要上层模块提供一个release的回调函数，用于release资源，如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres_node {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> list_head                entry;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         dr_release_t                    release;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span> <span style=color:rgb(204,102,51);--darkreader-inline-color:#d17547 data-darkreader-inline-color>#ifdef</span> CONFIG_DEBUG_DEVRES</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span>                      *name;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>         size_t                          size;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span> <span style=color:rgb(204,102,51);--darkreader-inline-color:#d17547 data-darkreader-inline-color>#endif</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span> };</pre>
</div>
</div>
<p>抛开用于debug的变量不说，也很简单，一个entry list_head，一个release回调函数。看不出怎么抽象资源啊！别急，奥妙都在data这个零长度数组上面呢。</p>
<p><font color=#0000ff data-darkreader-inline-color style=--darkreader-inline-color:#337dff>注1：不知道您是否注意到，devres有关的数据结构，是在devres.c中定义的（是C文件哦！）。换句话说，是对其它模块透明的。这真是优雅的设计（尽量屏蔽细节）！</font></p>
<h5>5.2 一个无关话题：零长度数组</h5>
<p>零长度数组的英文原名为Arrays of Length Zero，是GNU C的规范，主要用途是用来作为结构体的最后一个成员，然后用它来访问此结构体对象之后的一段内存（通常是动态分配的内存）。什么意思呢？</p>
<p>以struct devres为例，node变量的长度为3个指针的长度，而struct devres的长度也是3个指针的长度。而data只是一个标记，当有人分配了大于3个指针长度的空间并把它转换为struct devres类型的变量后，我们就可以通过data来访问多出来的memory。也就是说，有了零长度数组data，struct devres结构的长度可以不定，完全依赖于你分配的空间的大小。有什么用呢？</p>
<p>以本文的应用场景为例，多出来的、可通过data访问的空间，正是具体的device resource所占的空间。资源的类型不同，占用的空间的多少也不同，但devres模块的主要功能又是释放资源所占的资源。这是就是零长度数组的功能之一，因为整个memory空间是连续的，因此可以通过释devres指针，释放所有的空间，包括data所指的那片不定长度的、具体资源所用的空间。</p>
<p>零长度数组（data[0]），在不同的C版本中，有不同的实现方案，包括1长度数组（data[1]）和不定长度数组（data[]，本文所描述就是这一种），具体可参考GCC的规范：</p>
<p><a title=https://gcc.gnu.org/onlinedocs/gcc/Zero-Length.html href=https://gcc.gnu.org/onlinedocs/gcc/Zero-Length.html>https://gcc.gnu.org/onlinedocs/gcc/Zero-Length.html</a></p>
<h5>5.3 向上层framework提供的接口：devres_alloc/devres_free、devres_add/devres_remove</h5>
<p>先看一个使用device resource management的例子（IRQ模块）：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* include/linux/interrupt.h */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>inline</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> __must_check</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span> devm_request_irq(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> irq, irq_handler_t handler,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>                  <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> irqflags, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *devname, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *dev_id)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> devm_request_threaded_irq(dev, irq, handler, NULL, irqflags,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>                                          devname, dev_id);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span> }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum10 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  10:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum11 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  11:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* kernel/irq/devres.c */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum12 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  12:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> devm_request_threaded_irq(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> irq,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum13 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  13:</span>                               irq_handler_t handler, irq_handler_t thread_fn,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum14 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  14:</span>                               <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> irqflags, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>const</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>char</span> *devname,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum15 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  15:</span>                               <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *dev_id)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum16 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  16:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum17 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  17:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> irq_devres *dr;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum18 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  18:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> rc;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum19 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  19:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum20 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  20:</span>         dr = devres_alloc(devm_irq_release, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>sizeof</span>(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> irq_devres),</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum21 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  21:</span>                           GFP_KERNEL);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum22 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  22:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (!dr)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum23 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  23:</span>                 <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> -ENOMEM;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum24 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  24:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum25 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  25:</span>         rc = request_threaded_irq(irq, handler, thread_fn, irqflags, devname,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum26 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  26:</span>                                   dev_id);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum27 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  27:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (rc) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum28 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  28:</span>                 devres_free(dr);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum29 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  29:</span>                 <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> rc;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum30 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  30:</span>         }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum31 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  31:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum32 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  32:</span>         dr-&gt;irq = irq;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum33 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  33:</span>         dr-&gt;dev_id = dev_id;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum34 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  34:</span>         devres_add(dev, dr);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum35 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  35:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum36 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  36:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> 0;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum37 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  37:</span> }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum38 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  38:</span> EXPORT_SYMBOL(devm_request_threaded_irq);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum39 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  39:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum40 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  40:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> devm_free_irq(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> irq, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *dev_id)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum41 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  41:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum42 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  42:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> irq_devres match_data = { irq, dev_id };</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum43 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  43:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum44 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  44:</span>         WARN_ON(devres_destroy(dev, devm_irq_release, devm_irq_match,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum45 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  45:</span>                                &amp;match_data));</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum46 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  46:</span>         free_irq(irq, dev_id);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum47 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  47:</span> }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum48 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  48:</span> EXPORT_SYMBOL(devm_free_irq);</pre>
</div>
</div>
<p>前面我们提过，上层的IRQ framework，会提供两个和request_irq/free_irq基本兼容的接口，这两个接口的实现非常简单，就是在原有的实现之上，封装一层devres的操作，如要包括：</p>
<p>1）一个自定义的数据结构（struct irq_devres），用于保存和resource有关的信息（对中断来说，就是IRQ num），如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/*</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color> * Device resource management aware IRQ request/free implementation.</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color> */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> irq_devres {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> irq;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *dev_id;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span> };</pre>
</div>
</div>
<p>2）一个用于release resource的回调函数（这里的release，和memory无关，例如free IRQ），如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> devm_irq_release(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *res)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> irq_devres *<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>this</span> = res;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         free_irq(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>this</span>-&gt;irq, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>this</span>-&gt;dev_id);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span> }</pre>
</div>
</div>
<blockquote>
 <p>因为回调函数是由devres模块调用的，由它的参数可知，struct irq_devres变量就是实际的“资源”，但对devres而言，它并不知道该资源的实际形态，因而是void类型指针。也只有这样，devres模块才可以统一的处理所有类型的资源。</p>
</blockquote>
<p>3）以回调函数、resource的size为参数，调用devres_alloc接口，为resource分配空间。该接口的定义如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> * devres_alloc(dr_release_t release, size_t size, gfp_t gfp)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres *dr;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         dr = alloc_dr(release, size, gfp);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (unlikely(!dr))</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>                 <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> NULL;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> dr-&gt;data;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span> }</pre>
</div>
</div>
<p>调用alloc_dr，分配一个struct devres类型的变量，并返回其中的data指针（5.2小节讲过了，data变量实际上是资源的代表）。alloc_dr的定义如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> __always_inline <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres * alloc_dr(dr_release_t release,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span>                                                 size_t size, gfp_t gfp)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>         size_t tot_size = <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>sizeof</span>(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres) + size;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres *dr;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>         dr = kmalloc_track_caller(tot_size, gfp);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (unlikely(!dr))</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span>                 <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> NULL;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum10 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  10:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum11 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  11:</span>         memset(dr, 0, tot_size);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum12 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  12:</span>         INIT_LIST_HEAD(&amp;dr-&gt;node.entry);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum13 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  13:</span>         dr-&gt;node.release = release;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum14 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  14:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> dr;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum15 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  15:</span> }</pre>
</div>
</div>
<p>看第一句就可以了，在资源size之前，加一个struct devres的size，就是total分配的空间。除去struct devres的，就是资源的（由data指针访问）。之后是初始化struct devres变量的node。</p>
<p>4）调用原来的中断注册接口（这里是request_threaded_irq），注册中断。该步骤和device resource management无关。</p>
<p>5）注册成功后，以设备指针（dev）和资源指针（dr）为参数，调用devres_add，将资源添加到设备的资源链表头（devres_head）中，该接口定义如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> devres_add(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> *res)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres *dr = container_of(res, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres, data);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> flags;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>         spin_lock_irqsave(&amp;dev-&gt;devres_lock, flags);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>         add_dr(dev, &amp;dr-&gt;node);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span>         spin_unlock_irqrestore(&amp;dev-&gt;devres_lock, flags);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span> }</pre>
</div>
</div>
<p>从资源指针中，取出完整的struct devres指针，调用add_dr接口。add_dr也很简单，把struct devres指针挂到设备的devres_head中即可：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>void</span> add_dr(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres_node *node)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         devres_log(dev, node, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"ADD"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>         BUG_ON(!list_empty(&amp;node-&gt;entry));</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         list_add_tail(&amp;node-&gt;entry, &amp;dev-&gt;devres_head);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span> }</pre>
</div>
</div>
<p>6）如果失败，可以通过devres_free接口释放资源占用的空间，devm_free_irq接口中，会调用devres_destroy接口，将devres从devres_head中移除，并释放资源。这里就不详细描述了。</p>
<h5>5.4 向设备模型提供的接口：devres_release_all</h5>
<p>这里是重点，用于自动释放资源。</p>
<p>先回忆一下设备模型中probe的流程（可参考“<a href=http://www.wowotech.net/linux_kenrel/device_and_driver.html>Linux设备模型(5)_device和device driver</a>”），devres_release_all接口被调用的时机有两个：</p>
<p>1）probe失败时，调用过程为（就不详细的贴代码了）：</p>
<p>__driver_attach/__device_attach--&gt;driver_probe_device—&gt;really_probe，really_probe调用driver或者bus的probe接口，如果失败（返回值非零，可参考本文开头的例子），则会调用devres_release_all。</p>
<p>2）deriver dettach时（就是driver remove时）</p>
<p>driver_detach/bus_remove_device--&gt;__device_release_driver--&gt;devres_release_all</p>
<p>devres_release_all的实现如下：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> devres_release_all(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> flags;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* Looks like an uninitialized device structure */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>if</span> (WARN_ON(dev-&gt;devres_head.next == NULL))</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>                 <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> -ENODEV;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span>         spin_lock_irqsave(&amp;dev-&gt;devres_lock, flags);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> release_nodes(dev, dev-&gt;devres_head.next, &amp;dev-&gt;devres_head,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum10 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  10:</span>                              flags);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum11 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  11:</span> }</pre>
</div>
</div>
<p>以设备指针为参数，直接调用release_nodes：</p>
<div id=codeSnippetWrapper style='overflow:auto;cursor:text;font-size:8pt;border-width:1px;border-style:solid;border-color:silver;font-family:"Courier New",courier,monospace;width:97.5%;padding:4px;direction:ltr;text-align:left;margin:20px 0px 10px;line-height:12pt;max-height:200px;background-color:rgb(244,244,244);--darkreader-inline-border-top:#42474a;--darkreader-inline-border-right:#42474a;--darkreader-inline-border-bottom:#42474a;--darkreader-inline-border-left:#42474a;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left data-darkreader-inline-bgcolor>
 <div id=codeSnippet style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum1 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   1:</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>static</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> release_nodes(<span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> device *dev, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> list_head *first,</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum2 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   2:</span>                          <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> list_head *end, <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>unsigned</span> <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>long</span> flags)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum3 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   3:</span>         __releases(&amp;dev-&gt;devres_lock)</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum4 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   4:</span> {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum5 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   5:</span>         LIST_HEAD(todo);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum6 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   6:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>int</span> cnt;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum7 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   7:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>struct</span> devres *dr, *tmp;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum8 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   8:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum9 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>   9:</span>         cnt = remove_nodes(dev, first, end, &amp;todo);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum10 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  10:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum11 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  11:</span>         spin_unlock_irqrestore(&amp;dev-&gt;devres_lock, flags);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum12 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  12:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum13 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  13:</span>         <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>/* Release.  Note that both devres and devres_group are</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum14 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  14:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>         * handled as devres in the following loop.  This is safe.</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum15 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  15:</span> <span style=color:rgb(0,128,0);--darkreader-inline-color:#72ff72 data-darkreader-inline-color>         */</span></pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum16 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  16:</span>         list_for_each_entry_safe_reverse(dr, tmp, &amp;todo, node.entry) {</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum17 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  17:</span>                 devres_log(dev, &amp;dr-&gt;node, <span style=color:rgb(0,96,128);--darkreader-inline-color:#72dcff data-darkreader-inline-color>"REL"</span>);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum18 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  18:</span>                 dr-&gt;node.release(dev, dr-&gt;data);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum19 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  19:</span>                 kfree(dr);</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum20 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  20:</span>         }</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum21 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  21:</span>&nbsp; </pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:rgb(244,244,244);--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#1e2122' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum22 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  22:</span>         <span style=color:rgb(0,0,255);--darkreader-inline-color:#337dff data-darkreader-inline-color>return</span> cnt;</pre>
 <pre style='border-style:none;overflow:visible;font-size:8pt;font-family:"Courier New",courier,monospace;width:100%;color:black;padding:0px;direction:ltr;text-align:left;margin:0em;line-height:12pt;background-color:white;--darkreader-inline-color:#e8e6e3;--darkreader-inline-bgcolor:#181a1b' data-darkreader-inline-color data-darkreader-inline-bgcolor><span id=lnum23 style=color:rgb(96,96,96);--darkreader-inline-color:#aba499 data-darkreader-inline-color>  23:</span> }</pre>
</div>
</div>
<p>release_nodes会先调用remove_nodes，将设备所有的struct devres指针从设备的devres_head中移除。然后，调用所有资源的release回调函数（如5.3小节描述的devm_irq_release），回调函数会回收具体的资源（如free_irq)。最后，调用free，释放devres以及资源所占的空间。</p>
<p>&nbsp;</p>
<p><em>原创文章，转发请注明出处。蜗窝科技</em>，<a href=http://www.wowotech.net/linux_kenrel/device_resource_management.html>www.wowotech.net</a>。</p>	<p class=tag>标签: <a href=http://www.wowotech.net/tag/Linux>Linux</a>	<a href=http://www.wowotech.net/tag/%E8%AE%BE%E5%A4%87%E6%A8%A1%E5%9E%8B>设备模型</a>	<a href=http://www.wowotech.net/tag/%E8%AE%BE%E5%A4%87%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86>设备资源管理</a>	<a href=http://www.wowotech.net/tag/devres>devres</a></p>
 <a href=http://www.wowotech.net/support_us.html style=display:block;text-align:center>
 <img src="data:image/png;base64,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" align=middle width=86 height=40>
 </a>
 <div class=nextlog> « <a href=http://www.wowotech.net/pm_subsystem/rpm_overview.html>Linux电源管理(11)_Runtime PM之功能描述</a>
 |
 <a href=http://www.wowotech.net/irq_subsystem/request_threaded_irq.html>Linux kernel中断子系统之（五）：驱动申请中断API</a>»
 </div>
 <a name=comments></a>
 <p class=comment-header><b>评论：</b></p>
 <div class=comment id=comment-8767>
 <a name=8767></a>
 <div class=comment-info>
 <b>qliangw </b><br><span class=comment-time>2023-04-07 16:14</span>
 <div class=comment-content>学了小半年相关linux kernel知识，再看博主的文章真的是醍醐灌顶！！！感谢博主的分享，相关文章值得细读细品，满满干货</div>
 <div class=comment-reply><a href=#comment-8767>回复</a></div>
 </div>
 </div>
 <div class=comment id=comment-7360>
 <a name=7360></a>
 <div class=comment-info>
 <b>Alan </b><br><span class=comment-time>2019-04-18 11:00</span>
 <div class=comment-content>请问一下，linux内核设备模型基本上都是面向对象的概念，从kobject一层层向外派生，产生抽象的device,driver,bus等。但面向对象里有一个很重要的特点，就是派生类初始化的时候最先调用基类的构造函数,内核是如何实现该机制的？
<br>举例来说：每个bus的register是不是应该在它基类初始化以后才能使用？platform_bus_init函数调用了platform_bus_register,platform_bus_register是不是应该在buses_init之后才能调用，内核是如何保证buses_init在platform_bus_init之前调用的？</div>
 <div class=comment-reply><a href=#comment-7360>回复</a></div>
 </div>
 <div class="comment comment-children" id=comment-7747>
 <a name=7747></a>
 <div class=comment-info>
 <b>Dongwei </b><br><span class=comment-time>2019-11-13 13:30</span>
 <div class=comment-content>@Alan：您好！
<br>&nbsp;&nbsp; 我的理解是，kernel只是借用了面向对象的思想，但是并没有借用面向对象语言的规则，而 派生类初始化的时候最先调用基类的构造函数，这本身是面向对象语言的规则。</div>
 <div class=comment-reply><a href=#comment-7747>回复</a></div> </div>
 </div>
 </div>
 <div class=comment id=comment-5008>
 <a name=5008></a>
 <div class=comment-info>
 <b>寂寞沙洲冷 </b><br><span class=comment-time>2016-12-11 23:54</span>
 <div class=comment-content>从上周发现这个网站到周末看了好几篇文章，觉得楼主实在是太伟大了，能把Linux的内核部分讲得实在是如此详细又易懂还能认真回复每一个读者提出的问题，在边看边学习的过程中不知不觉想眼泪留下来。我是一个嵌入式linux新手，刚毕业入职不久，之前没接触过Linux，然后上司突然给一个任务是要实现一个芯片的I2C总线驱动（因为好像总线驱动都是公司提供的？）并用一个温度传感器验证它是否能正常工作（也就是还要写一个设备驱动+测试Case），当时简直一头雾水，还照着很多S3C2440的书为例子来看那些驱动分析然而并没有什么卵用（其实本质是因为不同芯片采用的I2C的IP设计不同导致思路不同），问团队小组长他一边敷衍我说I2C总线驱动很简单只需要Probe一下什么的就行了，一遍又不对为什么要Probe说不出个所以然（也有可能是不愿意说，所以我现在怀疑他压根没做过I2C的驱动，可能就是拿做过的别的驱动过来硬套I2C了），直到看到博主的文章才知道为什么在probe里面申请clk，ioremap，申请IRQ和memory等等……想起之前工作几个月走过的弯路，不禁感慨万千要是早一点发现博主的博客，就不会走那么多弯路和忍受委屈了！感谢楼主的付出，我会继续努力学习的！
<br>
<br>Ps.又偷偷吐槽一下I2C驱动任务完成了领导又来了一个任务是GPIO驱动，然而在高版本内核源码中找到了模板驱动在低版本（3.0.8）内核里面并没有，然后我把GPIO的驱动（drivers\gpio目录下）复制到低版本中经过source insight同步后发现缺少一些必要的库函数，跟IRQ相关的，然后我问小组长说怎么办，他说你不能改动kernel你只能改动你的驱动代码，然后我和他说有一些东西必须要用又没有到怎么办（比如irq_data结构体中有hwirq这个成员，但是低版本没有；高版本有irq_map机制可以把GPIO中断集中映射只使用芯片的一个中断号但是低版本的话是为每一个能产生GPIO中断的端口都分配中断号）……他说那你就自己想办法绕开。。。可是博主这东西真的能绕开吗？难不成我在自己的驱动里面写一个函数自行完成中断映射？T.T</div>
 <div class=comment-reply><a href=#comment-5008>回复</a></div>
 </div>
 <div class="comment comment-children" id=comment-5009>
 <a name=5009></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2016-12-12 10:23</span>
 <div class=comment-content>@寂寞沙洲冷：我觉得啊，想GPIO、I2C这种驱动的porting，不要照搬原来的代码，把framework的设计思路理解了之后，自己重写一份（当然，硬件操作部分的代码可以完全复用，拿来就是了），就不会出现你这里所说的问题。而且经过这样几个驱动之后，以后做其他的，就不会有障碍了。
<br>（PS：善待自己最先接触的几个任务，这是良机！不要急，不要快……）</div>
 <div class=comment-reply><a href=#comment-5009>回复</a></div> </div>
 <div class="comment comment-children" id=comment-5010>
 <a name=5010></a>
 <div class=comment-info>
 <b>寂寞沙洲冷 </b><br><span class=comment-time>2016-12-12 14:36</span>
 <div class=comment-content>@wowo：感谢wowo大神的指点，我也觉得这个不能急不能快，可是BOSS催得着急呀（我也不知道他们为啥这么着急）所以我都是下班回家之后继续深入的看。然后想咨询一下就是您说的framework涉及思路指的是啥，比如I2C的话，指的是总线驱动代码中probe的那一套吗（比如probe中ioremap，申请irq等等但是不包括实现I2C的读写函数等等和硬件相关的操作）？</div>
 <div class=comment-reply><a href=#comment-5010>回复</a></div> </div>
 <div class="comment comment-children" id=comment-5011>
 <a name=5011></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2016-12-12 14:46</span>
 <div class=comment-content>@寂寞沙洲冷：boss当然急（哈哈），差不多就是这些吧。</div>
 <div class=comment-reply><a href=#comment-5011>回复</a></div> </div>
 <div class="comment comment-children" id=comment-5012>
 <a name=5012></a>
 <div class=comment-info>
 <b>寂寞沙洲冷 </b><br><span class=comment-time>2016-12-12 16:14</span>
 <div class=comment-content>@wowo：感谢WOWO，我会跟着您的微博好好学习哒</div>
 <div class=comment-reply><a href=#comment-5012>回复</a></div> </div>
 </div>
 <div class="comment comment-children" id=comment-5149>
 <a name=5149></a>
 <div class=comment-info>
 <b>hony </b><br><span class=comment-time>2017-01-14 22:56</span>
 <div class=comment-content>@寂寞沙洲冷：wowo有微博？</div>
 <div class=comment-reply><a href=#comment-5149>回复</a></div> </div>
 </div>
 <div class="comment comment-children" id=comment-5151>
 <a name=5151></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2017-01-16 09:07</span>
 <div class=comment-content>@hony：没有微博啊，前面的兄弟估计是说错了，呵呵。</div>
 </div>
 </div>
 </div>
 </div>
 </div>
 <div class="comment comment-children" id=comment-5682>
 <a name=5682></a>
 <div class=comment-info>
 <b>jiang </b><br><span class=comment-time>2017-06-16 10:35</span>
 <div class=comment-content>@寂寞沙洲冷：总线驱动是控制器驱动 这种东西一般都是芯片厂商提供写好的 例如三星 高通等 跟着soc一起的 里面实现了usb或i2c协议等等 自己写难度很大 你们是芯片原厂? 你们老大居然把这种活交给新手？</div>
 <div class=comment-reply><a href=#comment-5682>回复</a></div> </div>
 <div class="comment comment-children" id=comment-5690>
 <a name=5690></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2017-06-19 08:49</span>
 <div class=comment-content>@jiang：呵呵，在原厂这样的事情很正常…………</div>
 <div class=comment-reply><a href=#comment-5690>回复</a></div> </div>
 </div>
 </div>
 </div>
 <div class=comment id=comment-4055>
 <a name=4055></a>
 <div class=comment-info>
 <b>wanyafe </b><br><span class=comment-time>2016-06-08 13:03</span>
 <div class=comment-content>楼主是否可以补充一下关于devres_group的内容？</div>
 <div class=comment-reply><a href=#comment-4055>回复</a></div>
 </div>
 <div class="comment comment-children" id=comment-4056>
 <a name=4056></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2016-06-08 14:01</span>
 <div class=comment-content>@wanyafe：devres位于设备模型比较底层的地方，driver开发者基本上不直接使用，因此本文也就是简单介绍一下。
<br>对于Devres group，你可以参考“Documentation/driver-model/devres.txt”，简单的说，它的目的就是把很多的devres打包。
<br>但具体怎么使用呢？kernel中有关的应用场景不多，其中一个场景是：
<br>分配并获取多个资源的时候，如果中间某一个资源获取失败，则需要在错误返回的地方一个一个的把之前成功的统统释放，比较麻烦，使用Devres group则可以解决这样的问题。
<br>先调用devres_open_group打开一个group，然后获取一个个的devres。如果某一个devres获取失败，可以直接调用devres_release_group，release所有成功的资源，就不用一个一个处理了。</div>
 <div class=comment-reply><a href=#comment-4056>回复</a></div> </div>
 <div class="comment comment-children" id=comment-5538>
 <a name=5538></a>
 <div class=comment-info>
 <b>sibulini </b><br><span class=comment-time>2017-05-11 16:08</span>
 <div class=comment-content>@wowo：感觉要学好linux，英语特别重要，好像大牛都要看Documentation文档</div>
 <div class=comment-reply><a href=#comment-5538>回复</a></div> </div>
 <div class="comment comment-children" id=comment-5541>
 <a name=5541></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2017-05-12 08:34</span>
 <div class=comment-content>@sibulini：英语document就是要多看，看多了就自然了～</div>
 <div class=comment-reply><a href=#comment-5541>回复</a></div> </div>
 </div>
 </div>
 </div>
 </div>
 <div class=comment id=comment-3945>
 <a name=3945></a>
 <div class=comment-info>
 <b>GhostaR </b><br><span class=comment-time>2016-05-18 09:49</span>
 <div class=comment-content>博主文章确实写得很好，从中学到不少，感谢博主的无私分享！</div>
 <div class=comment-reply><a href=#comment-3945>回复</a></div>
 </div>
 <div class="comment comment-children" id=comment-3948>
 <a name=3948></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2016-05-19 09:35</span>
 <div class=comment-content>@GhostaR：多谢鼓励，大家一起学习~</div>
 <div class=comment-reply><a href=#comment-3948>回复</a></div> </div>
 </div>
 </div>
 <div class=comment id=comment-3483>
 <a name=3483></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>madang</a> </b><br><span class=comment-time>2016-02-01 11:59</span>
 <div class=comment-content>问一个问题：devm_ioremap_resource 接口和 devm_ioremap的区别。
<br>看了一下代码，为一个区别就是一个接口devm_ioremap_resource（）接口会调用
<br>devm_request_mem_region（）函数来检查 地址重复的问题。
<br>但是看到内核里面 确实也有驱动调用devm_ioremap接口来做ioremap，
<br>所以，想问一下，什么情况下可以调用 devm_ioremap ？</div>
 <div class=comment-reply><a href=#comment-3483>回复</a></div>
 </div>
 </div>
 <div class=comment id=comment-2398>
 <a name=2398></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>linuxer2010</a> </b><br><span class=comment-time>2015-08-02 13:06</span>
 <div class=comment-content>一口气看完了驱动模型系列，收获颇丰，谢谢了。</div>
 <div class=comment-reply><a href=#comment-2398>回复</a></div>
 </div>
 </div>
 <div class=comment id=comment-2160>
 <a name=2160></a>
 <div class=comment-info>
 <b>Barry </b><br><span class=comment-time>2015-07-07 17:48</span>
 <div class=comment-content>hi，您好。看DT相关的资料找到了您的博客。感觉很好，国内好像很少如此深入分析驱动和内核的博客或文章。我相信不是国内确实大牛，只是有些可能觉得时间不够，有些觉得自己知道就行何苦分享给他人。我代表所有同学感谢博主的分享精神，也希望有更多的人加入这个行动中来。现在我看了一部分文章了，感觉写得好，但由于经验问题没能及时领会。希望此网站将来也不关闭，我已收藏，将持续关注博主，相信其他的同学也如我一般。最后提个建设性意见：就是希望网站能加入 “快速返回顶部”的功能。</div>
 <div class=comment-reply><a href=#comment-2160>回复</a></div>
 </div>
 <div class="comment comment-children" id=comment-2164>
 <a name=2164></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>linuxer</a> </b><br><span class=comment-time>2015-07-07 19:32</span>
 <div class=comment-content>@Barry：多谢鼓励！我们会继续的，分享很快乐</div>
 <div class=comment-reply><a href=#comment-2164>回复</a></div> </div>
 </div>
 <div class="comment comment-children" id=comment-2170>
 <a name=2170></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2015-07-08 09:08</span>
 <div class=comment-content>@Barry：谢谢您的意见，有空的话我加一个。</div>
 <div class=comment-reply><a href=#comment-2170>回复</a></div> </div>
 </div>
 <div class="comment comment-children" id=comment-2542>
 <a name=2542></a>
 <div class=comment-info>
 <b>tcutee </b><br><span class=comment-time>2015-09-07 10:00</span>
 <div class=comment-content>@Barry：很多机器还是用的老的 Linux内核，机器比较稳定，虽然 DT推出了好几年了，内核都奔四了，多数还是采用 2.6 原始方式</div>
 <div class=comment-reply><a href=#comment-2542>回复</a></div> </div>
 </div>
 </div>
 <div class=comment id=comment-1474>
 <a name=1474></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>twenty</a> </b><br><span class=comment-time>2015-04-02 18:33</span>
 <div class=comment-content>博主开头这句："之所以用“瞄”，因此它很简单，几乎不需要花费心思就能理解。"&nbsp;&nbsp;令在下深受打击…… 作为初学者，一口气看完了设备模型系列文章，觉得这篇是最难理解.
<br>&nbsp;&nbsp;ps: wowo能不能给想从事linux驱动开发的菜鸟(me)些学习建议，或者说学习方法？&nbsp;&nbsp;本人刚毕业，大学学过c语言，模电、数电、单片机等课程，但都没有学精……（大神见笑了）&nbsp;&nbsp; 现在想从新开始，立志搞linux底层驱动开发。&nbsp;&nbsp; 
<br>&nbsp;&nbsp;另外，我也看过一些这方面书、文档、教程，但都感觉看过不久就忘，不能真正吸收。&nbsp;&nbsp;依然是个linux驱动开发门外汉，我想改变这种学习方法！ 但又不知如何实践？苦于无人指点，于是迷失在了linux茫茫代码中，实在痛苦！ 希望大神闲暇时能不吝赐教！！跪谢了&nbsp;&nbsp;orz</div>
 <div class=comment-reply><a href=#comment-1474>回复</a></div>
 </div>
 <div class="comment comment-children" id=comment-1475>
 <a name=1475></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2015-04-02 21:49</span>
 <div class=comment-content>@twenty：抱歉！开头那句话，我表达的不清晰，所谓的“好理解”，是指devm_xxx接口和之前的接口的区别，以及使用这些接口的好处。
<br>当然，device resource意义及实现，确实很难理解。但这又如何呢？对一个驱动工程师来说，为什么一定需要理解device resource呢？只要会使用这些devm_xxx接口，就足够了啊！
<br>所以不用纠结，这也正是我给你的建议：
<br>学习的过程是一个螺旋式上升的过程，同样的一个事物，你今天看，和你5年后看，肯定是不一样的。这不是能力问题，而是经验问题。因此看不懂又如何呢？先放放，总有一天回过头来就懂了。
<br>立志搞linux底层，就找一份相关的工作，做就行了。复杂驱动不会，就先做简单的。简单的也不会？那就从别处抄嘛！总有一天什么都会了。
<br>因此重要的不是看了多少文档、书籍，而是有没有行动起来，去做就是了！</div>
 <div class=comment-reply><a href=#comment-1475>回复</a></div> </div>
 <div class="comment comment-children" id=comment-1477>
 <a name=1477></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>twenty</a> </b><br><span class=comment-time>2015-04-03 08:56</span>
 <div class=comment-content>@wowo：感谢回复！！&nbsp;&nbsp;我会改变学习方法的，实践，实践，do it,do it,do it......</div>
 <div class=comment-reply><a href=#comment-1477>回复</a></div> </div>
 </div>
 </div>
 </div>
 <div class=comment id=comment-1171>
 <a name=1171></a>
 <div class=comment-info>
 <b>Issues </b><br><span class=comment-time>2015-02-05 08:54</span>
 <div class=comment-content>谢谢楼主的解答，可这些头文件，在安装内核树之前应该已经存在了啊(/usr/src/ 下本来就有内核的头文件)。内核树构建的的是source文件和编译后的vmlinux.o镜像文件。如果编译新内核时这些文件没用，哪这些文件是干什么的。而且只有头文件，编译新model的时候引用的内核符号在哪？？</div>
 <div class=comment-reply><a href=#comment-1171>回复</a></div>
 </div>
 <div class="comment comment-children" id=comment-1173>
 <a name=1173></a>
 <div class=comment-info>
 <b>wowo </b><br><span class=comment-time>2015-02-05 09:53</span>
 <div class=comment-content>@Issues：如果你目标kernel和主机kernel是相同版本的话，确实可以使用主机的header……</div>
 <div class=comment-reply><a href=#comment-1173>回复</a></div> </div>
 <div class="comment comment-children" id=comment-1176>
 <a name=1176></a>
 <div class=comment-info>
 <b>Issues </b><br><span class=comment-time>2015-02-05 16:28</span>
 <div class=comment-content>@wowo：按楼主的意思，如果我编译和的module是和主机kernel相同版本的话，那不用构建内核源码树应该也能编译成功。可这样是会失败的啊，编译时会提示要求安装源码树</div>
 <div class=comment-reply><a href=#comment-1176>回复</a></div> </div>
 <div class="comment comment-children" id=comment-1177>
 <a name=1177></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2015-02-05 21:14</span>
 <div class=comment-content>@Issues：先确认是否有header文件。
<br>再确认是否有模块编译目录：/lib/modules/$(uanem -r)/build
<br>以及header的搜索路径是否正确。
<br>等等。</div>
 <div class=comment-reply><a href=#comment-1177>回复</a></div> </div>
 <div class="comment comment-children" id=comment-1182>
 <a name=1182></a>
 <div class=comment-info>
 <b>Issues </b><br><span class=comment-time>2015-02-07 08:12</span>
 <div class=comment-content>@wowo：最后还是在ldd 3rd上找到答案了，2.6内核的模块要和内核源码树中的目标文件连接，这样可以得到更加健壮的模块加载器，因此就需要这些目标文件存在于内核目录树中。以前版本的内核是只需要一套头文件的。第一遍看书的时候根本没理解是啥意思。现在发现，这句话是解释的最明白的。
<br>
<br>谢谢楼主的耐心解答。网站的内容非常不错，有很多我需要学习的文章。希望以后窝窝可以变成linux爱好者的乐园。</div>
 <div class=comment-reply><a href=#comment-1182>回复</a></div> </div>
 </div>
 <div class="comment comment-children" id=comment-1184>
 <a name=1184></a>
 <div class=comment-info>
 <b>wowo </b><br><span class=comment-time>2015-02-07 21:46</span>
 <div class=comment-content>@Issues：非常感谢您的分享，以后多交流。</div>
 <div class=comment-reply><a href=#comment-1184>回复</a></div> </div>
 </div>
 <div class="comment comment-children" id=comment-5150>
 <a name=5150></a>
 <div class=comment-info>
 <b>hony </b><br><span class=comment-time>2017-01-14 23:10</span>
 <div class=comment-content>@Issues：没有吧，直接到/lib/modules/2.6.32-642.13.1.el6.x86_64/build，直接make M=&lt;模块源码路径&gt;，我这边是可以编译的。
<br>
<br>而没有安装内核源码。</div>
 <div class=comment-reply><a href=#comment-5150>回复</a></div> </div>
 </div>
 <div class="comment comment-children" id=comment-5156>
 <a name=5156></a>
 <div class=comment-info>
 <b><a href=http://www.wowotech.net/ target=_blank>wowo</a> </b><br><span class=comment-time>2017-01-16 09:15</span>
 <div class=comment-content>@hony：“/lib/modules/2.6.32-642.13.1.el6.x86_64”，这里面应该有所需的东西了。</div>
 </div>
 </div>
 </div>
 </div>
 </div>
 </div>
 <div id=pagenavi>
 <span>1</span> <a href=http://www.wowotech.net/device_model/device_resource_management.html/comment-page-2#comments>2</a> </div>
 <div id=comment-place>
 <div class=comment-post id=comment-post>
 <div class=cancel-reply id=cancel-reply style=display:none></div>
 <p class=comment-header><b>发表评论：</b><a name=respond></a></p>
 <form method=post name=commentform action="http://www.wowotech.net/index.php?action=addcom" id=commentform>
 
 <p>
 <input type=text name=comname maxlength=49 value size=22 tabindex=1>
 <label for=author><small>昵称</small></label>
 </p>
 <p>
 <input type=text name=commail maxlength=128 value size=22 tabindex=2>
 <label for=email><small>邮件地址 (选填)</small></label>
 </p>
 <p>
 <input type=text name=comurl maxlength=128 value size=22 tabindex=3>
 <label for=url><small>个人主页 (选填)</small></label>
 </p>
 <p><textarea name=comment id=comment rows=10 tabindex=4></textarea></p>
 <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAWBAMAAACPjvdAAAAAFVBMVEX///9QKsyEW8ggHjxJV59iWimvN3I/C8s2AAAAxUlEQVQokY2SQRKDIAxFQ6WuM+0FHE/gjBdwkQN0w95uuP8RGijoLyDTTJwgefyEKFFpptq5znB6/jb+CVS+5ZW5yPcMzrRlOlcrKzDyt0md+11ERuManUga1ZJOZqwExGFBRp2nnpegE5lx93tCsZYhuwXGOYVGT77sZ1gUEwad4DVjN8oMB+YN/XBmRGRLPYMOzzSHuKpxvntkzn7oMU+RWYZjPqrj4F7HxHGGdHevoxBMqlorc340nDwz4QamzDfb/Cc/5QkZ0Cgia4EAAAAASUVORK5CYII=" align=absmiddle><input name=imgcode type=text class=input size=5 tabindex=5 value> <input type=submit id=comment_submit value=发表评论 tabindex=6></p>
 
 </form>
 </div>
 </div>
 <div style=clear:both></div>
</div>
<ul id=sidebar>
 <li>
 <h3><span>站内搜索</span></h3>
 <ul>
 
<form name=search_form1 target=_blank>
<input name=word size=30 value=请输入关键字>
<input type=submit value=百度搜索><br>
<input checked name=myselect type=radio value=0>
<font color=#ff0000 style=font-size:12px;--darkreader-inline-color:#ff1a1a data-darkreader-inline-color>蜗窝站内</font> 
<input name=myselect type=radio value=1>
<font color=#0000cc style=font-size:12px;--darkreader-inline-color:#5291ff data-darkreader-inline-color>互联网</font> 
</form>	</ul>
 </li>
 <li>
 <h3><span>功能</span></h3>
 <ul>
 <a href=http://www.wowotech.net/message_board.html>留言板<br></a>
<a href="http://www.wowotech.net/?plugin=commentlist">评论列表<br></a>
<a href=http://www.wowotech.net/support_list>支持者列表<br></a>	</ul>
 </li>
 <li>
 <h3><span>最新评论</span></h3>
 <ul id=newcomment>
 <li id=comment>testtest <br><a href=http://www.wowotech.net/kernel_synchronization/atomic.html#8864>@wangdl：就是线程1的ldrex因为线程2先strex...</a></li>
 <li id=comment>Syed <br><a href=http://www.wowotech.net/about.html#8863>@憨憨也是态度：十年之后终于来到了这里，感谢还在！感谢您的坚...</a></li>
 <li id=comment>lw <br><a href=http://www.wowotech.net/bluetooth/bt_protocol_arch.html#8862>@wowo：逻辑层那些协议的具体使用场景，能帮忙列一下吗？</a></li>
 <li id=comment>Harry Song <br><a href=http://www.wowotech.net/kernel_synchronization/spinlock.html#8861>文中对 ticket 的机制进行举例和实际的汇编实现有偏差：...</a></li>
 <li id=comment>slava_chen <br><a href=http://www.wowotech.net/process_management/449.html#8860>@slava_chen：抱歉，我又看了sched_creat...</a></li>
 <li id=comment>slava_chen <br><a href=http://www.wowotech.net/process_management/449.html#8859>我认为struct task_group里边的成员**se，...</a></li>
 </ul>
 </li>
 <li>
 <h3><span>文章分类</span></h3>
 <ul id=blogsort>
 <li>
 <a href=http://www.wowotech.net/sort/linux_kenrel>Linux内核分析(24)</a>
 <a href="http://www.wowotech.net/rss.php?sort=4"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <ul>
 <li>
 <a href=http://www.wowotech.net/sort/device_model>统一设备模型(15)</a>
 <a href="http://www.wowotech.net/rss.php?sort=12"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/pm_subsystem>电源管理子系统(43)</a>
 <a href="http://www.wowotech.net/rss.php?sort=13"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/irq_subsystem>中断子系统(15)</a>
 <a href="http://www.wowotech.net/rss.php?sort=14"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/process_management>进程管理(31)</a>
 <a href="http://www.wowotech.net/rss.php?sort=15"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/kernel_synchronization>内核同步机制(26)</a>
 <a href="http://www.wowotech.net/rss.php?sort=16"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/gpio_subsystem>GPIO子系统(5)</a>
 <a href="http://www.wowotech.net/rss.php?sort=17"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/timer_subsystem>时间子系统(14)</a>
 <a href="http://www.wowotech.net/rss.php?sort=18"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/comm>通信类协议(7)</a>
 <a href="http://www.wowotech.net/rss.php?sort=20"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/memory_management>内存管理(31)</a>
 <a href="http://www.wowotech.net/rss.php?sort=21"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/graphic_subsystem>图形子系统(2)</a>
 <a href="http://www.wowotech.net/rss.php?sort=23"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/filesystem>文件系统(5)</a>
 <a href="http://www.wowotech.net/rss.php?sort=26"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/tty_framework>TTY子系统(6)</a>
 <a href="http://www.wowotech.net/rss.php?sort=27"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 </ul>
 <li>
 <a href=http://www.wowotech.net/sort/u-boot>u-boot分析(3)</a>
 <a href="http://www.wowotech.net/rss.php?sort=25"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <li>
 <a href=http://www.wowotech.net/sort/linux_application>Linux应用技巧(13)</a>
 <a href="http://www.wowotech.net/rss.php?sort=3"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <li>
 <a href=http://www.wowotech.net/sort/soft>软件开发(6)</a>
 <a href="http://www.wowotech.net/rss.php?sort=1"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <li>
 <a href=http://www.wowotech.net/sort/basic_tech>基础技术(13)</a>
 <a href="http://www.wowotech.net/rss.php?sort=6"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <ul>
 <li>
 <a href=http://www.wowotech.net/sort/bluetooth>蓝牙(16)</a>
 <a href="http://www.wowotech.net/rss.php?sort=10"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/armv8a_arch>ARMv8A Arch(15)</a>
 <a href="http://www.wowotech.net/rss.php?sort=19"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/display>显示(3)</a>
 <a href="http://www.wowotech.net/rss.php?sort=22"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 <li>
 <a href=http://www.wowotech.net/sort/usb>USB(1)</a>
 <a href="http://www.wowotech.net/rss.php?sort=28"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 </ul>
 <li>
 <a href=http://www.wowotech.net/sort/basic_subject>基础学科(10)</a>
 <a href="http://www.wowotech.net/rss.php?sort=7"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <li>
 <a href=http://www.wowotech.net/sort/tech_discuss>技术漫谈(12)</a>
 <a href="http://www.wowotech.net/rss.php?sort=8"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <li>
 <a href=http://www.wowotech.net/sort/project>项目专区(0)</a>
 <a href="http://www.wowotech.net/rss.php?sort=9"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 <ul>
 <li>
 <a href=http://www.wowotech.net/sort/x_project>X Project(28)</a>
 <a href="http://www.wowotech.net/rss.php?sort=24"><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><rect fill-opacity="0"/></svg>' alt=订阅该分类 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a>
 </li>
 </ul>
 </ul>
 </li>
 <li>
 <h3><span>随机文章</span></h3>
 <ul id=randlog>
 <li><a href=http://www.wowotech.net/irq_subsystem/interrupt_descriptor.html>linux kernel的中断子系统之（三）：IRQ number和中断描述符</a></li>
 <li><a href=http://www.wowotech.net/pm_subsystem/generic_pm_architecture.html>Linux电源管理(2)_Generic PM之基本概念和软件架构</a></li>
 <li><a href=http://www.wowotech.net/tty_framework/application_view.html>Linux TTY framework(3)_从应用的角度看TTY设备</a></li>
 <li><a href=http://www.wowotech.net/memory_management/441.html>KASLR</a></li>
 <li><a href=http://www.wowotech.net/linux_kenrel/kernel_config_boot_option.html>Linux kernel内核配置解析(5)_Boot options(基于ARM64架构)</a></li>
 </ul>
 </li>
 <li>
 <h3><span>文章存档</span></h3>
 <ul id=record>
 <li><a href=http://www.wowotech.net/record/202305>2023年5月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202210>2022年10月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202208>2022年8月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202206>2022年6月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202205>2022年5月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202204>2022年4月(2)</a></li>
 <li><a href=http://www.wowotech.net/record/202202>2022年2月(2)</a></li>
 <li><a href=http://www.wowotech.net/record/202112>2021年12月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202111>2021年11月(5)</a></li>
 <li><a href=http://www.wowotech.net/record/202107>2021年7月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202106>2021年6月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/202105>2021年5月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/202003>2020年3月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/202002>2020年2月(2)</a></li>
 <li><a href=http://www.wowotech.net/record/202001>2020年1月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201912>2019年12月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201905>2019年5月(4)</a></li>
 <li><a href=http://www.wowotech.net/record/201903>2019年3月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/201901>2019年1月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201812>2018年12月(2)</a></li>
 <li><a href=http://www.wowotech.net/record/201811>2018年11月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/201810>2018年10月(2)</a></li>
 <li><a href=http://www.wowotech.net/record/201808>2018年8月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/201806>2018年6月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/201805>2018年5月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/201804>2018年4月(7)</a></li>
 <li><a href=http://www.wowotech.net/record/201802>2018年2月(4)</a></li>
 <li><a href=http://www.wowotech.net/record/201801>2018年1月(5)</a></li>
 <li><a href=http://www.wowotech.net/record/201712>2017年12月(2)</a></li>
 <li><a href=http://www.wowotech.net/record/201711>2017年11月(2)</a></li>
 <li><a href=http://www.wowotech.net/record/201710>2017年10月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/201709>2017年9月(5)</a></li>
 <li><a href=http://www.wowotech.net/record/201708>2017年8月(4)</a></li>
 <li><a href=http://www.wowotech.net/record/201707>2017年7月(4)</a></li>
 <li><a href=http://www.wowotech.net/record/201706>2017年6月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201705>2017年5月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201704>2017年4月(1)</a></li>
 <li><a href=http://www.wowotech.net/record/201703>2017年3月(8)</a></li>
 <li><a href=http://www.wowotech.net/record/201702>2017年2月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201701>2017年1月(5)</a></li>
 <li><a href=http://www.wowotech.net/record/201612>2016年12月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201611>2016年11月(11)</a></li>
 <li><a href=http://www.wowotech.net/record/201610>2016年10月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201609>2016年9月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201608>2016年8月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201607>2016年7月(5)</a></li>
 <li><a href=http://www.wowotech.net/record/201606>2016年6月(8)</a></li>
 <li><a href=http://www.wowotech.net/record/201605>2016年5月(8)</a></li>
 <li><a href=http://www.wowotech.net/record/201604>2016年4月(7)</a></li>
 <li><a href=http://www.wowotech.net/record/201603>2016年3月(5)</a></li>
 <li><a href=http://www.wowotech.net/record/201602>2016年2月(5)</a></li>
 <li><a href=http://www.wowotech.net/record/201601>2016年1月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201512>2015年12月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201511>2015年11月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201510>2015年10月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201509>2015年9月(4)</a></li>
 <li><a href=http://www.wowotech.net/record/201508>2015年8月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201507>2015年7月(7)</a></li>
 <li><a href=http://www.wowotech.net/record/201506>2015年6月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201505>2015年5月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201504>2015年4月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201503>2015年3月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201502>2015年2月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201501>2015年1月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201412>2014年12月(17)</a></li>
 <li><a href=http://www.wowotech.net/record/201411>2014年11月(8)</a></li>
 <li><a href=http://www.wowotech.net/record/201410>2014年10月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201409>2014年9月(7)</a></li>
 <li><a href=http://www.wowotech.net/record/201408>2014年8月(12)</a></li>
 <li><a href=http://www.wowotech.net/record/201407>2014年7月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201406>2014年6月(6)</a></li>
 <li><a href=http://www.wowotech.net/record/201405>2014年5月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201404>2014年4月(9)</a></li>
 <li><a href=http://www.wowotech.net/record/201403>2014年3月(7)</a></li>
 <li><a href=http://www.wowotech.net/record/201402>2014年2月(3)</a></li>
 <li><a href=http://www.wowotech.net/record/201401>2014年1月(4)</a></li>
 </ul>
 </li>
<div class=rss>
<a href=http://www.wowotech.net/rss.php title=RSS订阅><img src="data:image/gif;base64,R0lGODlhGAAYAPf/AP99Jf+xOv2jZPzZxP+WPeNMAP+tQuZnIP+5O/+MAP+ZJP/qwv90ANVYIP+WOf+hQv/Yu/+VK/qJPvqNRf+QO/qaK/9pAP/CPf7Ttf+mAP6jHe5ZAP++O/+RAPzcy+18Pei1o/7Wuv+TPP3ClOlVANRFAP+cQv+GMf+7Mv+pQvmHPv+WI/+/VP9uAP+iP//37vteAP/r1N1zQ/3k1f6JO/liAP7x5//x4/6mW/96AP7Db//dt/+WANVlNf/Cgv+FI/+aAP+wQvqJGv/58dtdIP++PP+JAPO0kv+eAP+6Pv7///+2AP+TMf73+f/Wqf6DNP+CKv5kAP+BAP/Jlf+NPP+0O/+zP/6NI/ZeAP+mP+J0PtxKAP6NKv+3O/74+/+dMfFZAP+PP/+iAP93Ef+GAOFhIPJdAP+tPP+rAPaEP/GAPv9+AP+tP/+0K/+nUP+xAP+TQedTAOZ5Pv/8+f+wP//46t6Ud/79//mdT/3v7P6/j/+/fv+pOv+wO/nf0f6WDvjCqP6IFehOAO1oIf+vAP/nuf+ePP/16f+dS/+xPP+aPPelc/6zbPmZT/vOtP6MP/+eGv/Rjf6sM9BeMv+vP/zJoeVtLPOTYPzFmfuKCPmrX/y6kfm+nv++Zv/Pmv7UnPrCp/+PMOF2Qv+zDvurO8s9AP+rQP+LI//bo//25PNtIv9pBv/DMv+sI//IO/64S/+HEMlMGf+CHvuUEv+YF//KjM1WJ+Shh/+XMP+zVv9uCP/iwONdFP+lMtFLEf+lOPpzHvvg2fyiEPqANeuZcNx6UP+4cP6kSf+TN/26WP+VNPmna/dZAP+7Hv339//z6v+1QPiEO//u3f+RI/+RJvKAO/SBPPzp5v3s4f/v5Oh5Pv54Dut9P/qIOfiIJP/23/+rBfubO+VxM/+ZOv+dOv/YsvvKpO14Nf7Np/2ucPmwbf+2bPBlFv94FfnGsPuVOv/+/PvX0PXg2ffl3/mYGv749/6cHf+hMv2iNvqVVf+kNv2GOf+YNuVlIP///////yH5BAEAAP8ALAAAAAAYABgAAAj/AP8JfDYCh4kHWVKkMGAgiEOGuWrdEEgRA4VQih64yGKKDR0rIEHSOdNLn5OKUESYIPflHp8zfarI7NJFZiJKbBSctLGPAgF+75YJwBcgQBUESJHW7HPG1Bdpm57AceDA0R0vmCR1Qcqha5EkSaDRCfLLRz4qIpgw8sd2yKs2XS/ILYKiTSsNkGi5kBAm7Tq2/uok00QKhStWzUaBy4AESIcEK1T0VebmBdsFOrx4UCdsyRJCaDKIAcKjgwK+IhwYisEW1Se2TTjRe/Mm9OjSCiSLIIBrB9tILAoBjlchQ+jGPCBL9hlhClsdQjKx+MY2WAUxYpCUhpzmEXNjgbMM/wDlDdICtgNmIe9gZIUaCWiZuJmz65gSf9ca/Tnvb0SC7WRMo4YKVFCAzDg3ePKAZf44g4c9qfjTRDgJJECGFFd8kAYNaHFRjg85ROCbP3kI0QlblUhhhBRrnKKNGtHQAMcYE0jAgBSwjGhOIKzZcMUaa+TwgxbcVKMCFMMA4k43OeRAzSH+1MPFHmzhwEAODPwggxwfWANMCGx5sA2WzimRDgHw+KNHCwy0AEAxWshxDjszsHVDO20iwhY6sgzhDwYtWGDBE7f0IIolBVyCTTYCRBHoCTbMAcEYMcwRwipR1LDIPJPIQMQWBQyiChZRCKoLFCcAYAEATwBQgxl0/kgDgi2+lACqIBuYgUUNNcDga6/MgLEBCUdQBEIspZRgawFxkLDBs8I+S0IcvBRL0T/y2NFDAw0QUUYZ/Rwg7gH99CMOMX5QFBAAOw==" alt=订阅Rss></a>
</div>
</ul>
</div>
<div style=clear:both></div>
<div id=footerbar>
 Copyright @ 2013-2015 <a href=http://www.wowotech.net/ title=wowotech>蜗窝科技</a> All rights reserved.
 Powered by <a href=http://www.emlog.net/ title=采用emlog系统>emlog</a>
 <a href=http://www.miibeian.gov.cn/ target=_blank></a> </div>
</div>
